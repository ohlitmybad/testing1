<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 20px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}



  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 5px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
}

.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}

.custom-select-option.selected, .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.1);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}

    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

        var _0x4bd33e=_0x3bd5;(function(_0x5ade0e,_0x35d1a2){var _0x10004b=_0x3bd5,_0x26ea70=_0x5ade0e();while(!![]){try{var _0x1df9a2=-parseInt(_0x10004b(0x27f))/0x1+parseInt(_0x10004b(0x2b8))/0x2+parseInt(_0x10004b(0x261))/0x3+parseInt(_0x10004b(0x2b6))/0x4+parseInt(_0x10004b(0x215))/0x5*(parseInt(_0x10004b(0x20b))/0x6)+-parseInt(_0x10004b(0x24a))/0x7+-parseInt(_0x10004b(0x21d))/0x8;if(_0x1df9a2===_0x35d1a2)break;else _0x26ea70['push'](_0x26ea70['shift']());}catch(_0x48aa7a){_0x26ea70['push'](_0x26ea70['shift']());}}}(_0x4881,0xdfbb2));let initializeCustomSelectors=function(){var _0x39c6cc=_0x3bd5;const _0xff70a7=document[_0x39c6cc(0x283)](_0x39c6cc(0x204)),_0x477f8c=document['getElementById'](_0x39c6cc(0x2ab)),_0x1e7d72=document['getElementById'](_0x39c6cc(0x27d));setupCustomSelect(_0xff70a7,_0x477f8c,_0x1e7d72);const _0x59b4f6=document[_0x39c6cc(0x283)](_0x39c6cc(0x2ba)),_0x5b5994=document[_0x39c6cc(0x283)](_0x39c6cc(0x2a7)),_0x11ebba=document[_0x39c6cc(0x283)](_0x39c6cc(0x239));populateMetricOptions(_0x5b5994,header['slice'](0x3),function(_0x29cf2e,_0x554fb8){var _0x16d570=_0x39c6cc;_0x59b4f6[_0x16d570(0x213)](_0x16d570(0x2d4))[_0x16d570(0x255)]===_0x554fb8&&_0x29cf2e[_0x16d570(0x1e7)][_0x16d570(0x25b)](_0x16d570(0x298));if(_0x554fb8===header[0x3]){_0x29cf2e[_0x16d570(0x1e7)][_0x16d570(0x25b)](_0x16d570(0x298)),_0x59b4f6[_0x16d570(0x213)](_0x16d570(0x2d4))['textContent']=_0x554fb8;const _0x2c8e14=_0x554fb8[_0x16d570(0x2cd)]()[_0x16d570(0x2ae)](/ /g,'-')[_0x16d570(0x2ae)](/%/g,_0x16d570(0x27a));_0x59b4f6[_0x16d570(0x213)](_0x16d570(0x2d4))['setAttribute'](_0x16d570(0x1f5),_0x16d570(0x24d)+_0x2c8e14);}}),setupCustomSelect(_0x59b4f6,_0x5b5994,_0x11ebba);const _0x29a45=document['getElementById'](_0x39c6cc(0x242)),_0x2b3740=document[_0x39c6cc(0x283)](_0x39c6cc(0x1fd)),_0x29ce97=document[_0x39c6cc(0x283)]('select-y');populateMetricOptions(_0x2b3740,header[_0x39c6cc(0x266)](0x3),function(_0x1aebc1,_0x17c61f){var _0x5a7cea=_0x39c6cc;_0x29a45[_0x5a7cea(0x213)](_0x5a7cea(0x2d4))[_0x5a7cea(0x255)]===_0x17c61f&&_0x1aebc1['classList'][_0x5a7cea(0x25b)](_0x5a7cea(0x298));if(_0x17c61f===header[0x4]){_0x1aebc1[_0x5a7cea(0x1e7)][_0x5a7cea(0x25b)](_0x5a7cea(0x298)),_0x29a45['querySelector'](_0x5a7cea(0x2d4))[_0x5a7cea(0x255)]=_0x17c61f;const _0x308386=_0x17c61f[_0x5a7cea(0x2cd)]()['replace'](/ /g,'-')[_0x5a7cea(0x2ae)](/%/g,_0x5a7cea(0x27a));_0x29a45[_0x5a7cea(0x213)](_0x5a7cea(0x2d4))[_0x5a7cea(0x1de)]('data-i18n','metrics.'+_0x308386);}}),setupCustomSelect(_0x29a45,_0x2b3740,_0x29ce97);};function populateMetricOptions(_0xee9bbc,_0x22b7c3,_0x20c97a){var _0x1613b1=_0x3bd5;_0xee9bbc[_0x1613b1(0x210)]='',_0x22b7c3[_0x1613b1(0x25a)](function(_0x44e54d){var _0x40352b=_0x1613b1;const _0x47cc7f=document[_0x40352b(0x24e)]('div');_0x47cc7f[_0x40352b(0x23a)]=_0x40352b(0x2b2),_0x47cc7f[_0x40352b(0x1de)]('data-value',_0x44e54d);const _0x333804=document[_0x40352b(0x24e)](_0x40352b(0x2d4));_0x333804[_0x40352b(0x255)]=_0x44e54d;const _0x473b03=_0x44e54d[_0x40352b(0x2cd)]()[_0x40352b(0x2ae)](/ /g,'-')[_0x40352b(0x2ae)](/%/g,_0x40352b(0x27a));_0x333804[_0x40352b(0x1de)](_0x40352b(0x1f5),_0x40352b(0x24d)+_0x473b03),_0x47cc7f[_0x40352b(0x2c1)](_0x333804);if(_0x20c97a)_0x20c97a(_0x47cc7f,_0x44e54d);_0xee9bbc['appendChild'](_0x47cc7f);});}function setupCustomSelect(_0xced01f,_0x216465,_0x52731c){var _0x5de120=_0x3bd5;_0xced01f[_0x5de120(0x268)]('click',function(){var _0x2c0a19=_0x5de120;document[_0x2c0a19(0x29f)]('.custom-select-trigger.open,\x20.metric-select-trigger.open')[_0x2c0a19(0x25a)](function(_0x36d5d8){var _0x39107b=_0x2c0a19;if(_0x36d5d8!==_0xced01f){_0x36d5d8[_0x39107b(0x1e7)]['remove'](_0x39107b(0x274));const _0x56dc1e=_0x36d5d8[_0x39107b(0x28e)];if(_0x56dc1e)_0x56dc1e['style'][_0x39107b(0x2af)]='none';}}),_0xced01f[_0x2c0a19(0x1e7)][_0x2c0a19(0x24b)](_0x2c0a19(0x274));const _0x11922f=_0xced01f[_0x2c0a19(0x1e7)][_0x2c0a19(0x2ac)]('open');_0x216465['style'][_0x2c0a19(0x2af)]=_0x11922f?_0x2c0a19(0x29b):_0x2c0a19(0x223);});const _0x46bbec=_0x216465[_0x5de120(0x29f)](_0x5de120(0x1e9));_0x46bbec[_0x5de120(0x25a)](_0x5cdf61=>{var _0x3156ab=_0x5de120;_0x5cdf61[_0x3156ab(0x268)]('click',function(){var _0x1a0422=_0x3156ab;_0x46bbec[_0x1a0422(0x25a)](_0x1bb074=>_0x1bb074[_0x1a0422(0x1e7)]['remove']('selected')),this[_0x1a0422(0x1e7)][_0x1a0422(0x25b)](_0x1a0422(0x298));const _0x5caa73=this[_0x1a0422(0x213)](_0x1a0422(0x2d4))[_0x1a0422(0x255)],_0x37f236=this[_0x1a0422(0x213)](_0x1a0422(0x2d4))['getAttribute'](_0x1a0422(0x1f5)),_0x52fe26=this[_0x1a0422(0x213)](_0x1a0422(0x2aa));_0xced01f[_0x1a0422(0x210)]='';if(_0x52fe26){const _0x2b0b21=_0x52fe26[_0x1a0422(0x217)](!![]);_0x2b0b21[_0x1a0422(0x205)]['marginRight']=_0x1a0422(0x2a9),_0xced01f['appendChild'](_0x2b0b21);}const _0x34d8f2=document['createElement'](_0x1a0422(0x2d4));_0x34d8f2['textContent']=_0x5caa73;_0x37f236&&_0x34d8f2[_0x1a0422(0x1de)]('data-i18n',_0x37f236);_0xced01f['appendChild'](_0x34d8f2);const _0x4710e0=this[_0x1a0422(0x286)](_0x1a0422(0x202));_0x52731c[_0x1a0422(0x1df)]=_0x4710e0||_0x5caa73;const _0x21d34d=new Event(_0x1a0422(0x2cc));_0x52731c['dispatchEvent'](_0x21d34d),_0xced01f[_0x1a0422(0x1e7)]['remove'](_0x1a0422(0x274)),_0x216465[_0x1a0422(0x205)][_0x1a0422(0x2af)]=_0x1a0422(0x223);});});let _0x2fd34d='',_0x4bdfd0;document[_0x5de120(0x268)](_0x5de120(0x22f),function(_0x714eb6){var _0xe6062=_0x5de120;if(!_0xced01f['classList'][_0xe6062(0x2ac)]('open'))return;if(_0x714eb6[_0xe6062(0x272)]===_0xe6062(0x2c9)||_0x714eb6[_0xe6062(0x272)]==='ArrowUp'){_0x714eb6[_0xe6062(0x2cf)]();const _0xd30900=Array[_0xe6062(0x26c)](_0x46bbec),_0x4c67cc=_0xd30900[_0xe6062(0x238)](_0x8ad93c=>_0x8ad93c[_0xe6062(0x1e7)]['contains'](_0xe6062(0x298)));let _0x278474;_0x714eb6[_0xe6062(0x272)]==='ArrowDown'?_0x278474=_0x4c67cc<_0xd30900[_0xe6062(0x226)]-0x1?_0x4c67cc+0x1:0x0:_0x278474=_0x4c67cc>0x0?_0x4c67cc-0x1:_0xd30900[_0xe6062(0x226)]-0x1;_0x46bbec[_0xe6062(0x25a)](_0x41c504=>_0x41c504[_0xe6062(0x1e7)][_0xe6062(0x260)](_0xe6062(0x298))),_0xd30900[_0x278474][_0xe6062(0x1e7)]['add'](_0xe6062(0x298)),_0xd30900[_0x278474][_0xe6062(0x1e2)]({'block':_0xe6062(0x2c6)});return;}if(_0x714eb6[_0xe6062(0x272)]===_0xe6062(0x221)){_0x714eb6[_0xe6062(0x2cf)]();const _0x1bc87a=_0x216465[_0xe6062(0x213)](_0xe6062(0x229));_0x1bc87a&&_0x1bc87a[_0xe6062(0x1e5)]();return;}if(_0x714eb6[_0xe6062(0x272)]===_0xe6062(0x264)){_0x714eb6['preventDefault'](),_0xced01f['classList'][_0xe6062(0x260)]('open'),_0x216465['style']['display']='none';return;}if(_0x714eb6['key'][_0xe6062(0x226)]===0x1&&_0x714eb6[_0xe6062(0x272)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x4bdfd0),_0x2fd34d+=_0x714eb6[_0xe6062(0x272)][_0xe6062(0x2cd)]();const _0x3980e3=Array[_0xe6062(0x26c)](_0x46bbec)[_0xe6062(0x1eb)](_0x5d11ae=>{var _0x564490=_0xe6062;const _0x3d2096=_0x5d11ae[_0x564490(0x213)](_0x564490(0x2d4))[_0x564490(0x255)][_0x564490(0x2cd)]();return _0x3d2096[_0x564490(0x233)](_0x2fd34d);});_0x3980e3&&(_0x46bbec['forEach'](_0x47cc03=>_0x47cc03[_0xe6062(0x1e7)][_0xe6062(0x260)]('selected')),_0x3980e3['classList'][_0xe6062(0x25b)](_0xe6062(0x298)),_0x3980e3[_0xe6062(0x1e2)]({'block':'nearest'})),_0x4bdfd0=setTimeout(()=>{_0x2fd34d='';},0x3e8);}});}document[_0x4bd33e(0x268)](_0x4bd33e(0x1e5),function(_0x54c990){var _0x57de4b=_0x4bd33e;const _0x19cb35=document[_0x57de4b(0x29f)](_0x57de4b(0x262)),_0x239100=document[_0x57de4b(0x29f)](_0x57de4b(0x25c));let _0xf4562b=![];_0x19cb35['forEach'](function(_0x4b44e0,_0x158890){var _0x3b7e06=_0x57de4b;const _0x5a8773=_0x239100[_0x158890];_0x4b44e0&&_0x5a8773&&(_0x4b44e0[_0x3b7e06(0x2ac)](_0x54c990[_0x3b7e06(0x1e1)])||_0x5a8773['contains'](_0x54c990['target']))&&(_0xf4562b=!![]);}),!_0xf4562b&&_0x19cb35[_0x57de4b(0x25a)](function(_0x4f7194,_0xb44709){var _0x559869=_0x57de4b;_0x4f7194&&_0x239100[_0xb44709]&&(_0x4f7194['classList']['remove']('open'),_0x239100[_0xb44709]['style'][_0x559869(0x2af)]=_0x559869(0x223));});});const xhr=new XMLHttpRequest();xhr[_0x4bd33e(0x274)](_0x4bd33e(0x24c),_0x4bd33e(0x235),![]),xhr[_0x4bd33e(0x270)](null);let csvData=xhr[_0x4bd33e(0x22b)],extraHeaderRow=_0x4bd33e(0x1e4);csvData=extraHeaderRow+csvData;var rows=csvData[_0x4bd33e(0x287)]()[_0x4bd33e(0x2a1)]('\x0a'),header=rows[0x0][_0x4bd33e(0x2a1)](','),data=rows[_0x4bd33e(0x266)](0x1)[_0x4bd33e(0x279)](function(_0x540484){var _0x49b935=_0x4bd33e;return _0x540484['split'](',')[_0x49b935(0x279)](function(_0x56f44f,_0x33009a){return _0x33009a>=0x3?parseFloat(_0x56f44f):_0x56f44f;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x4bd33e(0x1fb)]-margin[_0x4bd33e(0x1ee)],height=0x302-margin[_0x4bd33e(0x256)]-margin[_0x4bd33e(0x230)],leagueColors={'Premier\x20League':_0x4bd33e(0x1f6),'La\x20Liga':_0x4bd33e(0x24f),'Bundesliga':'rgba(255,\x20255,\x200,\x200.7)','Serie\x20A':'rgba(0,\x20128,\x200,\x200.7)','Ligue\x201':_0x4bd33e(0x28b),'Eredivisie':_0x4bd33e(0x212),'Primeira\x20Liga':_0x4bd33e(0x257)};function getLeagueColor(_0x5a556e){var _0x125f01=_0x4bd33e;return leagueColors[_0x5a556e]||_0x125f01(0x1f6);}function updateChartDimensions(){var _0x3600fc=_0x4bd33e,_0x4c3516=document[_0x3600fc(0x213)](_0x3600fc(0x1e8))['clientWidth'],_0x8c1f12=window[_0x3600fc(0x2a4)]*0.7,_0x31a58a=0x1e,_0x5f0c13=Math[_0x3600fc(0x22a)](0x43a,_0x4c3516-_0x31a58a*0x2),_0xe4ebed=window['innerWidth']/window[_0x3600fc(0x2a4)]<0x1;if(_0xe4ebed){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x568735=1.4,_0x5f3386=Math['min'](_0x8c1f12,_0x5f0c13*_0x568735);_0x5f3386=Math[_0x3600fc(0x218)](_0x5f3386,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x4d0ae2=0.7,_0x5f3386=_0x5f0c13*_0x4d0ae2;}width=_0x5f0c13-margin['left']-margin[_0x3600fc(0x1ee)],height=_0x5f3386-margin[_0x3600fc(0x256)]-margin[_0x3600fc(0x230)],d3[_0x3600fc(0x1f0)](_0x3600fc(0x1ef))[_0x3600fc(0x237)](_0x3600fc(0x246),_0x5f0c13)[_0x3600fc(0x237)]('height',_0x5f3386),document['querySelector'](_0x3600fc(0x23f))[_0x3600fc(0x205)][_0x3600fc(0x294)]=_0x5f3386+'px';}window[_0x4bd33e(0x268)](_0x4bd33e(0x2ca),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x25dff2,_0x26d4b0){let _0x38e305;return function(){const _0x491443=this,_0x3007d9=arguments;clearTimeout(_0x38e305),_0x38e305=setTimeout(function(){_0x25dff2['apply'](_0x491443,_0x3007d9);},_0x26d4b0);};}function _0x3bd5(_0x271f76,_0x5ac01b){var _0x488162=_0x4881();return _0x3bd5=function(_0x3bd5b0,_0xd5f584){_0x3bd5b0=_0x3bd5b0-0x1dd;var _0x270670=_0x488162[_0x3bd5b0];return _0x270670;},_0x3bd5(_0x271f76,_0x5ac01b);}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window['innerHeight'];window[_0x4bd33e(0x268)](_0x4bd33e(0x2ca),debounce(function(){var _0x37a645=_0x4bd33e,_0x27ce1a=prevWindowWidth/prevWindowHeight<0x1,_0x41477b=window[_0x37a645(0x27b)]/window[_0x37a645(0x2a4)]<0x1;prevWindowWidth=window[_0x37a645(0x27b)],prevWindowHeight=window[_0x37a645(0x2a4)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x4bd33e(0x1f0)](_0x4bd33e(0x216)),selectY=d3[_0x4bd33e(0x1f0)](_0x4bd33e(0x263)),names=data['map'](function(_0x114de1){return _0x114de1[0x1];});header[_0x4bd33e(0x266)](0x3)['forEach'](function(_0x45a68c){var _0xc93148=_0x4bd33e;selectX[_0xc93148(0x1f9)](_0xc93148(0x250))[_0xc93148(0x28d)](_0x45a68c)[_0xc93148(0x237)](_0xc93148(0x1df),_0x45a68c),selectY[_0xc93148(0x1f9)](_0xc93148(0x250))[_0xc93148(0x28d)](_0x45a68c)['attr'](_0xc93148(0x1df),_0x45a68c);}),selectX[_0x4bd33e(0x244)]('value',header[0x3]),selectY[_0x4bd33e(0x244)](_0x4bd33e(0x1df),header[0x4]);var svg=d3[_0x4bd33e(0x1f0)](_0x4bd33e(0x1ef))['attr'](_0x4bd33e(0x246),width+margin[_0x4bd33e(0x1fb)]+margin[_0x4bd33e(0x1ee)])[_0x4bd33e(0x237)](_0x4bd33e(0x294),height+margin[_0x4bd33e(0x256)]+margin[_0x4bd33e(0x230)])[_0x4bd33e(0x1f9)]('g')[_0x4bd33e(0x237)]('transform',_0x4bd33e(0x2d1)+margin[_0x4bd33e(0x1fb)]+','+margin['top']+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x4bd33e(0x2c8)]()['range']([0x0,width]),yScale=d3[_0x4bd33e(0x2c8)]()['range']([height,0x0]),xAxis=d3[_0x4bd33e(0x2c5)](xScale)[_0x4bd33e(0x26e)](0x0),yAxis=d3[_0x4bd33e(0x282)](yScale)['tickSize'](0x0),gXAxis=svg[_0x4bd33e(0x1f9)]('g')[_0x4bd33e(0x237)]('class',_0x4bd33e(0x251))[_0x4bd33e(0x237)]('transform',_0x4bd33e(0x291)+height+')'),gYAxis=svg[_0x4bd33e(0x1f9)]('g')[_0x4bd33e(0x237)](_0x4bd33e(0x2cb),_0x4bd33e(0x225)),xLabel=svg['append'](_0x4bd33e(0x28d))[_0x4bd33e(0x237)](_0x4bd33e(0x2cb),_0x4bd33e(0x277))['attr'](_0x4bd33e(0x20d),_0x4bd33e(0x248))['attr']('x',width)[_0x4bd33e(0x237)]('y',height+0x23)['style'](_0x4bd33e(0x22e),_0x4bd33e(0x259))[_0x4bd33e(0x205)](_0x4bd33e(0x222),'14px'),yLabel=svg['append'](_0x4bd33e(0x28d))[_0x4bd33e(0x237)](_0x4bd33e(0x2cb),'y-label')[_0x4bd33e(0x237)](_0x4bd33e(0x20d),_0x4bd33e(0x248))[_0x4bd33e(0x237)](_0x4bd33e(0x2b4),_0x4bd33e(0x2be))[_0x4bd33e(0x237)]('y',-0x35)[_0x4bd33e(0x237)]('x',0x0)['style']('font-family',_0x4bd33e(0x259))[_0x4bd33e(0x205)]('font-size',_0x4bd33e(0x2a3)),tooltip=d3[_0x4bd33e(0x1f0)](_0x4bd33e(0x25e))[_0x4bd33e(0x1f9)](_0x4bd33e(0x2d2))[_0x4bd33e(0x237)](_0x4bd33e(0x2cb),_0x4bd33e(0x241));function isMobileDevice(){return window['innerWidth']<=0x300;}function positionTooltip(_0x5800ca,_0xba4625){var _0x55461a=_0x4bd33e;const _0x4f32a3=_0xba4625[_0x55461a(0x27c)]();if(!_0x4f32a3)return{'left':0x0,'top':0x0};const _0xcc7d33=_0x4f32a3['getBoundingClientRect'](),_0x111f2e=window[_0x55461a(0x27b)],_0x4d7f92=window[_0x55461a(0x2a4)];let _0x1737e5=_0x5800ca[_0x55461a(0x2d3)]+0xa,_0x227fbf=_0x5800ca[_0x55461a(0x2a8)]-0x1c;return _0x1737e5+_0xcc7d33[_0x55461a(0x246)]>_0x111f2e-0xa&&(_0x1737e5=_0x5800ca[_0x55461a(0x2d3)]-_0xcc7d33[_0x55461a(0x246)]-0xa),_0x227fbf+_0xcc7d33[_0x55461a(0x294)]>_0x4d7f92-0xa&&(_0x227fbf=_0x5800ca[_0x55461a(0x2a8)]-_0xcc7d33[_0x55461a(0x294)]-0xa),_0x1737e5=Math['max'](0xa,_0x1737e5),_0x227fbf=Math[_0x55461a(0x218)](0xa,_0x227fbf),{'left':_0x1737e5,'top':_0x227fbf};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x37eec8=_0x4bd33e;updateChartDimensions(),d3['select'](_0x37eec8(0x1ef))[_0x37eec8(0x237)](_0x37eec8(0x246),width+margin['left']+margin[_0x37eec8(0x1ee)])['attr'](_0x37eec8(0x294),height+margin[_0x37eec8(0x256)]+margin['bottom']),gXAxis[_0x37eec8(0x237)](_0x37eec8(0x2b4),'translate(0,'+height+')'),xLabel[_0x37eec8(0x237)]('x',width)['attr']('y',height+0x23),yLabel[_0x37eec8(0x237)]('x',0x0);const _0x346a19=document[_0x37eec8(0x25e)][_0x37eec8(0x1e7)][_0x37eec8(0x2ac)](_0x37eec8(0x21b));var _0x49a6bb=document[_0x37eec8(0x283)](_0x37eec8(0x27d))[_0x37eec8(0x1df)];if(_0x49a6bb===_0x37eec8(0x2b0))filteredData=data;else _0x49a6bb==='Top\x205\x20Leagues'?filteredData=data[_0x37eec8(0x25f)](function(_0x24ec1e){var _0x5c7d8c=_0x37eec8;return _0x24ec1e[0x2]===_0x5c7d8c(0x2b9)||_0x24ec1e[0x2]===_0x5c7d8c(0x20c)||_0x24ec1e[0x2]==='Bundesliga'||_0x24ec1e[0x2]===_0x5c7d8c(0x2b7)||_0x24ec1e[0x2]==='Ligue\x201';}):filteredData=data['filter'](function(_0x24f579){return _0x24f579[0x2]===_0x49a6bb;});filteredNames=filteredData['map'](function(_0x2c7df0){return _0x2c7df0[0x1];}),xMetric=selectX['property'](_0x37eec8(0x1df)),yMetric=selectY['property'](_0x37eec8(0x1df)),xScale['range']([0x0,width])[_0x37eec8(0x1e0)]((function(){var _0xed192a=_0x37eec8;const _0x48737a=d3[_0xed192a(0x22a)](filteredData,_0x1e92ab=>_0x1e92ab[header['indexOf'](xMetric)]),_0x7d3c38=d3['max'](filteredData,_0x2b27a4=>_0x2b27a4[header[_0xed192a(0x247)](xMetric)]),_0x4ee933=_0x7d3c38-_0x48737a,_0x18159a=_0x4ee933*0.1;return[_0x48737a-_0x18159a,_0x7d3c38+_0x18159a];}())),yScale[_0x37eec8(0x2b1)]([height,0x0])['domain']((function(){var _0x541876=_0x37eec8;const _0x4e9628=d3[_0x541876(0x22a)](filteredData,_0xb3e2dd=>_0xb3e2dd[header['indexOf'](yMetric)]),_0xaa3252=d3[_0x541876(0x218)](filteredData,_0x26c09f=>_0x26c09f[header[_0x541876(0x247)](yMetric)]),_0x1eba21=_0xaa3252-_0x4e9628,_0x487ce1=_0x1eba21*0.1;return[_0x4e9628-_0x487ce1,_0xaa3252+_0x487ce1];}())),gXAxis[_0x37eec8(0x206)](d3[_0x37eec8(0x2c5)](xScale)[_0x37eec8(0x26e)](0x0)),gYAxis[_0x37eec8(0x206)](d3[_0x37eec8(0x282)](yScale)[_0x37eec8(0x26e)](0x0));const _0x265b38=_0x37eec8(0x24d)+xMetric[_0x37eec8(0x2cd)]()[_0x37eec8(0x2ae)](/ /g,'-')[_0x37eec8(0x2ae)](/%/g,_0x37eec8(0x27a)),_0x33f69c=_0x37eec8(0x24d)+yMetric[_0x37eec8(0x2cd)]()[_0x37eec8(0x2ae)](/ /g,'-')[_0x37eec8(0x2ae)](/%/g,_0x37eec8(0x27a));xLabel[_0x37eec8(0x237)](_0x37eec8(0x1f5),_0x265b38),yLabel[_0x37eec8(0x237)](_0x37eec8(0x1f5),_0x33f69c);if(window['currentTranslations']&&window[_0x37eec8(0x2d0)][_0x37eec8(0x2c3)]){const _0x2ecc7f=xMetric[_0x37eec8(0x2cd)]()[_0x37eec8(0x2ae)](/ /g,'-')[_0x37eec8(0x2ae)](/%/g,'pct'),_0x3d8e5d=yMetric['toLowerCase']()[_0x37eec8(0x2ae)](/ /g,'-')[_0x37eec8(0x2ae)](/%/g,_0x37eec8(0x27a)),_0x4d5e77=window[_0x37eec8(0x2d0)]['metrics'][_0x2ecc7f],_0xe5c7d5=window[_0x37eec8(0x2d0)][_0x37eec8(0x2c3)][_0x3d8e5d];xLabel[_0x37eec8(0x28d)](_0x4d5e77||xMetric),yLabel[_0x37eec8(0x28d)](_0xe5c7d5||yMetric);}else xLabel[_0x37eec8(0x28d)](xMetric),yLabel[_0x37eec8(0x28d)](yMetric);svg[_0x37eec8(0x203)]('circle')[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x2bc))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x2c7))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x232))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x28a))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)]('.xy-line-label-bg')[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x249))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x23e))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)](_0x37eec8(0x227))['remove'](),svg[_0x37eec8(0x203)](_0x37eec8(0x252))[_0x37eec8(0x260)](),svg[_0x37eec8(0x203)]('.median-line')[_0x37eec8(0x260)]();if(xMetric===_0x37eec8(0x228)&&yMetric==='Goals\x20per\x2090'||xMetric===_0x37eec8(0x267)&&yMetric===_0x37eec8(0x228)){var _0x981723=null,_0x1ca16c=d3[_0x37eec8(0x22a)](filteredData,function(_0x48addb){var _0x1be6d3=_0x37eec8;return _0x48addb[header[_0x1be6d3(0x247)](xMetric)];}),_0x32119c=d3[_0x37eec8(0x218)](filteredData,function(_0x361bd6){var _0x51bcb8=_0x37eec8;return _0x361bd6[header[_0x51bcb8(0x247)](xMetric)];}),_0x469509=d3[_0x37eec8(0x22a)](filteredData,function(_0x3d4908){var _0x561850=_0x37eec8;return _0x3d4908[header[_0x561850(0x247)](yMetric)];}),_0x2b01e8=d3[_0x37eec8(0x218)](filteredData,function(_0x2564a0){var _0x1ca749=_0x37eec8;return _0x2564a0[header[_0x1ca749(0x247)](yMetric)];}),_0x1beb5d=Math['min'](_0x32119c,_0x2b01e8),_0x33be61=Math['max'](_0x1ca16c,_0x469509);svg['append']('line')[_0x37eec8(0x237)](_0x37eec8(0x2cb),_0x37eec8(0x254))[_0x37eec8(0x237)]('x1',xScale(_0x33be61))[_0x37eec8(0x237)]('y1',yScale(_0x33be61))[_0x37eec8(0x237)]('x2',xScale(_0x1beb5d))[_0x37eec8(0x237)]('y2',yScale(_0x1beb5d))['style']('stroke','#2ecc71')[_0x37eec8(0x205)](_0x37eec8(0x23d),'2')[_0x37eec8(0x205)](_0x37eec8(0x236),'5,3'),svg[_0x37eec8(0x1f9)]('line')[_0x37eec8(0x237)]('class',_0x37eec8(0x220))[_0x37eec8(0x237)]('x1',xScale(_0x33be61))[_0x37eec8(0x237)]('y1',yScale(_0x33be61))[_0x37eec8(0x237)]('x2',xScale(_0x1beb5d))[_0x37eec8(0x237)]('y2',yScale(_0x1beb5d))[_0x37eec8(0x205)]('stroke',_0x37eec8(0x26a))[_0x37eec8(0x205)](_0x37eec8(0x23d),'15')['style']('cursor','help')['on']('mouseover',function(){var _0x2c04ff=_0x37eec8;_0x981723&&clearTimeout(_0x981723);var _0x2211c3=d3[_0x2c04ff(0x208)][_0x2c04ff(0x2d3)],_0x519252=d3[_0x2c04ff(0x208)][_0x2c04ff(0x2a8)];_0x981723=setTimeout(function(){var _0x2e3229=_0x2c04ff;tooltip[_0x2e3229(0x219)]()[_0x2e3229(0x209)](0xc8)['style'](_0x2e3229(0x1fa),0.9);var _0x3493a8=_0x2e3229(0x289)+getTranslation('tooltip.xg-line-title',_0x2e3229(0x1f1))+_0x2e3229(0x23c);xMetric===_0x2e3229(0x228)&&yMetric===_0x2e3229(0x267)?_0x3493a8+=_0x2e3229(0x20e)+getTranslation(_0x2e3229(0x292),_0x2e3229(0x271))+_0x2e3229(0x275)+_0x2e3229(0x20e)+getTranslation(_0x2e3229(0x26d),_0x2e3229(0x29e))+_0x2e3229(0x1dd):_0x3493a8+=_0x2e3229(0x20e)+getTranslation(_0x2e3229(0x2c4),'Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+_0x2e3229(0x275)+_0x2e3229(0x20e)+getTranslation(_0x2e3229(0x21a),_0x2e3229(0x2ce))+_0x2e3229(0x1dd),tooltip['html'](_0x3493a8)[_0x2e3229(0x205)](_0x2e3229(0x1fb),_0x2211c3+0xa+'px')[_0x2e3229(0x205)](_0x2e3229(0x256),_0x519252-0x1c+'px');},0x258);})['on'](_0x37eec8(0x276),function(){var _0x5d68d3=_0x37eec8;_0x981723&&(clearTimeout(_0x981723),_0x981723=null),tooltip[_0x5d68d3(0x219)]()['duration'](0x1f4)[_0x5d68d3(0x205)](_0x5d68d3(0x1fa),0x0);});}if(medianLinesVisible){var _0x1ba657=d3['median'](filteredData,function(_0x105d40){var _0x19fc41=_0x37eec8;return _0x105d40[header[_0x19fc41(0x247)](xMetric)];}),_0xf8db7c=d3[_0x37eec8(0x2a5)](filteredData,function(_0x458567){var _0x2b96ab=_0x37eec8;return _0x458567[header[_0x2b96ab(0x247)](yMetric)];});svg[_0x37eec8(0x1f9)](_0x37eec8(0x29a))[_0x37eec8(0x237)](_0x37eec8(0x2cb),_0x37eec8(0x28c))['attr']('x1',xScale(_0x1ba657))['attr']('y1',0x0)['attr']('x2',xScale(_0x1ba657))[_0x37eec8(0x237)]('y2',height)[_0x37eec8(0x205)]('stroke',_0x37eec8(0x1f2))[_0x37eec8(0x205)](_0x37eec8(0x236),'4'),svg[_0x37eec8(0x1f9)]('line')[_0x37eec8(0x237)](_0x37eec8(0x2cb),_0x37eec8(0x28c))[_0x37eec8(0x237)]('x1',0x0)[_0x37eec8(0x237)]('y1',yScale(_0xf8db7c))[_0x37eec8(0x237)]('x2',width)[_0x37eec8(0x237)]('y2',yScale(_0xf8db7c))[_0x37eec8(0x205)](_0x37eec8(0x22d),'rgba(0,\x200,\x200,\x200.3)')['style']('stroke-dasharray','4');}circles=svg[_0x37eec8(0x203)](_0x37eec8(0x21e))[_0x37eec8(0x1fc)](filteredData)[_0x37eec8(0x281)]()[_0x37eec8(0x1f9)](_0x37eec8(0x21e))['attr']('cx',function(_0x321691){var _0xd11684=_0x37eec8;return xScale(_0x321691[header[_0xd11684(0x247)](xMetric)]);})['attr']('cy',function(_0x2c8c36){return yScale(_0x2c8c36[header['indexOf'](yMetric)]);})['attr']('r',0x8)[_0x37eec8(0x205)](_0x37eec8(0x1ea),function(_0x45923c){var _0x57dcf3=_0x37eec8;if(clickedCircles[_0x57dcf3(0x265)](_0x45923c[0x1]))return getLeagueColor(_0x45923c[0x2]);return _0x57dcf3(0x290);})['style'](_0x37eec8(0x22d),function(_0x1821e2){var _0x1b6ac0=_0x37eec8;return clickedCircles[_0x1b6ac0(0x265)](_0x1821e2[0x1])?_0x1b6ac0(0x280):_0x1b6ac0(0x223);})[_0x37eec8(0x205)](_0x37eec8(0x23d),function(_0xb7116){return clickedCircles['includes'](_0xb7116[0x1])?0x2:0x0;})[_0x37eec8(0x205)]('cursor',_0x37eec8(0x1f7))['on'](_0x37eec8(0x297),function(_0x13c648){var _0x49802f=_0x37eec8;d3['select'](this)[_0x49802f(0x219)]()[_0x49802f(0x209)](0xc8)[_0x49802f(0x237)]('r',0xa)[_0x49802f(0x205)](_0x49802f(0x1ea),getLeagueColor(_0x13c648[0x2])),tooltip[_0x49802f(0x219)]()[_0x49802f(0x209)](0xc8)[_0x49802f(0x205)](_0x49802f(0x1fa),0.9);const _0x1038ae=_0x49802f(0x24d)+xMetric[_0x49802f(0x2cd)]()[_0x49802f(0x2ae)](/ /g,'-')[_0x49802f(0x2ae)](/%/g,_0x49802f(0x27a)),_0x11de5d=_0x49802f(0x24d)+yMetric[_0x49802f(0x2cd)]()[_0x49802f(0x2ae)](/ /g,'-')[_0x49802f(0x2ae)](/%/g,_0x49802f(0x27a)),_0x4e1b0c=getTranslation(_0x1038ae,xMetric),_0x3ebd51=getTranslation(_0x11de5d,yMetric);tooltip[_0x49802f(0x2a0)]('<strong>'+_0x13c648[0x1]+'</strong><br/>'+_0x4e1b0c+':\x20'+_0x13c648[header['indexOf'](xMetric)][_0x49802f(0x21f)](0x2)+_0x49802f(0x245)+_0x3ebd51+':\x20'+_0x13c648[header[_0x49802f(0x247)](yMetric)][_0x49802f(0x21f)](0x2));const _0x2a8228=tooltip[_0x49802f(0x27c)]();if(_0x2a8228){const _0xbb5e0a=_0x2a8228[_0x49802f(0x201)](),_0x205b0c=window[_0x49802f(0x27b)],_0x5ec398=window[_0x49802f(0x2a4)];let _0x153ec1=d3['event']['pageX']+0xa,_0xdb1776=d3['event'][_0x49802f(0x2a8)]-0x1c;_0x153ec1+_0xbb5e0a[_0x49802f(0x246)]>_0x205b0c-0xa&&(_0x153ec1=d3[_0x49802f(0x208)][_0x49802f(0x2d3)]-_0xbb5e0a[_0x49802f(0x246)]-0xa),_0xdb1776+_0xbb5e0a['height']>_0x5ec398-0xa&&(_0xdb1776=d3[_0x49802f(0x208)][_0x49802f(0x2a8)]-_0xbb5e0a[_0x49802f(0x294)]-0xa),_0x153ec1=Math[_0x49802f(0x218)](0xa,_0x153ec1),_0xdb1776=Math[_0x49802f(0x218)](0xa,_0xdb1776),tooltip[_0x49802f(0x205)](_0x49802f(0x1fb),_0x153ec1+'px')[_0x49802f(0x205)](_0x49802f(0x256),_0xdb1776+'px');}else tooltip[_0x49802f(0x205)](_0x49802f(0x1fb),d3[_0x49802f(0x208)][_0x49802f(0x2d3)]+0xa+'px')[_0x49802f(0x205)]('top',d3['event']['pageY']-0x1c+'px');window[_0x49802f(0x27b)]<=0x300&&setTimeout(function(){var _0x3149d2=_0x49802f;tooltip[_0x3149d2(0x219)]()[_0x3149d2(0x209)](0xc8)[_0x3149d2(0x205)](_0x3149d2(0x1fa),0x0);},0x3e8);})['on'](_0x37eec8(0x276),function(_0x4d03c8){var _0x11ebd8=_0x37eec8;window[_0x11ebd8(0x27b)]>0x300&&tooltip[_0x11ebd8(0x219)]()[_0x11ebd8(0x209)](0x1f4)[_0x11ebd8(0x205)]('opacity',0x0);var _0x4b5dea=clickedCircles[_0x11ebd8(0x265)](_0x4d03c8[0x1]);d3[_0x11ebd8(0x1f0)](this)['transition']()[_0x11ebd8(0x209)](0xc8)[_0x11ebd8(0x237)]('r',0x8)[_0x11ebd8(0x205)](_0x11ebd8(0x1ea),function(){var _0x10bcfe=_0x11ebd8;return _0x4b5dea?getLeagueColor(_0x4d03c8[0x2]):_0x10bcfe(0x290);});})['on'](_0x37eec8(0x1e5),function(_0x436441){var _0x4f8a4b=_0x37eec8,_0xb57d92=d3[_0x4f8a4b(0x1f0)](this)[_0x4f8a4b(0x207)]('search-match');_0xb57d92&&resetSearch();var _0x4bf311=clickedCircles[_0x4f8a4b(0x247)](_0x436441[0x1]);_0x4bf311===-0x1?(clickedCircles[_0x4f8a4b(0x258)](_0x436441[0x1]),d3[_0x4f8a4b(0x1f0)](this)['style'](_0x4f8a4b(0x1ea),getLeagueColor(_0x436441[0x2]))[_0x4f8a4b(0x205)](_0x4f8a4b(0x22d),_0x4f8a4b(0x280))['style'](_0x4f8a4b(0x23d),0x2),addTeamLabel(_0x436441)):(clickedCircles[_0x4f8a4b(0x253)](_0x4bf311,0x1),d3[_0x4f8a4b(0x1f0)](this)[_0x4f8a4b(0x205)](_0x4f8a4b(0x1ea),_0x4f8a4b(0x290))[_0x4f8a4b(0x205)](_0x4f8a4b(0x22d),'none'),svg[_0x4f8a4b(0x203)](_0x4f8a4b(0x240)+_0x436441[0x1][_0x4f8a4b(0x2ae)](/\s+/g,'-')['toLowerCase']())['remove']());updateSelectAllButtonText();var _0x162f7e=document['getElementById']('select-league')['value'];updateLeagueLegend(_0x162f7e);}),clickedCircles['forEach'](function(_0x585f85){var _0x370410=filteredData['find'](function(_0x3d2029){return _0x3d2029[0x1]===_0x585f85;});_0x370410&&addTeamLabel(_0x370410);}),updateSelectAllButtonText(),updateLeagueLegend(_0x49a6bb);}function updateSelectAllButtonText(){var _0x702fcc=_0x4bd33e,_0x1a0e87=document[_0x702fcc(0x283)](_0x702fcc(0x1f3)),_0x3c9e10=document[_0x702fcc(0x283)]('select-all-tooltip'),_0x5a6f91=filteredData[_0x702fcc(0x293)](function(_0x3959dd){var _0x35efb2=_0x702fcc;return clickedCircles[_0x35efb2(0x265)](_0x3959dd[0x1]);});_0x5a6f91?(_0x1a0e87[_0x702fcc(0x23a)]=_0x702fcc(0x2bd),_0x3c9e10&&(window[_0x702fcc(0x2d0)]&&window[_0x702fcc(0x2d0)][_0x702fcc(0x241)]?_0x3c9e10[_0x702fcc(0x255)]=window[_0x702fcc(0x2d0)][_0x702fcc(0x241)][_0x702fcc(0x284)]||_0x702fcc(0x21c):_0x3c9e10['textContent']=_0x702fcc(0x21c))):(_0x1a0e87[_0x702fcc(0x23a)]=_0x702fcc(0x1f8),_0x3c9e10&&(window[_0x702fcc(0x2d0)]&&window[_0x702fcc(0x2d0)][_0x702fcc(0x241)]?_0x3c9e10[_0x702fcc(0x255)]=window['currentTranslations'][_0x702fcc(0x241)][_0x702fcc(0x203)]||_0x702fcc(0x285):_0x3c9e10[_0x702fcc(0x255)]=_0x702fcc(0x285)));}selectX['on'](_0x4bd33e(0x2cc),updateChart),selectY['on']('change',updateChart);function removeSpecialCharsAndDiacritics(_0x6df978){var _0x466444=_0x4bd33e;if(!_0x6df978)return'';return _0x6df978['normalize'](_0x466444(0x278))[_0x466444(0x2ae)](/[\u0300-\u036f]/g,'')[_0x466444(0x2ae)](/Ø/g,'O')[_0x466444(0x2ae)](/ø/g,'o');}var searchBar=document['getElementById']('search-bar');searchBar[_0x4bd33e(0x268)](_0x4bd33e(0x2b5),function(){var _0x540b05=_0x4bd33e,_0x137675=searchBar[_0x540b05(0x1df)][_0x540b05(0x2cd)]();if(_0x137675===''){resetSearch();return;}var _0x522bb3=removeSpecialCharsAndDiacritics(_0x137675);svg[_0x540b05(0x203)](_0x540b05(0x21e))[_0x540b05(0x207)](_0x540b05(0x211),![])[_0x540b05(0x205)](_0x540b05(0x1ea),function(_0x3240f4){var _0x20b887=_0x540b05;return clickedCircles[_0x20b887(0x265)](_0x3240f4[0x1])?getLeagueColor(_0x3240f4[0x2]):_0x20b887(0x290);})[_0x540b05(0x205)](_0x540b05(0x22d),function(_0x54aa1f){var _0x4c980f=_0x540b05;return clickedCircles[_0x4c980f(0x265)](_0x54aa1f[0x1])?'#000':_0x4c980f(0x223);})['style']('stroke-width',function(_0x40c0aa){return clickedCircles['includes'](_0x40c0aa[0x1])?0x2:0x0;})[_0x540b05(0x205)]('filter',_0x540b05(0x223))['each'](function(){var _0x18e44d=_0x540b05;d3[_0x18e44d(0x1f0)](this)[_0x18e44d(0x205)]('r',null);}),svg[_0x540b05(0x203)](_0x540b05(0x2bc))[_0x540b05(0x207)](_0x540b05(0x211),![])['classed'](_0x540b05(0x296),![]);var _0x7ef21b=[];svg[_0x540b05(0x203)]('circle')[_0x540b05(0x25f)](function(_0x192ae1){var _0x4ddf9f=_0x540b05,_0x2082f7=_0x192ae1[0x1]['toLowerCase'](),_0x42a5af=removeSpecialCharsAndDiacritics(_0x2082f7),_0x714664=_0x2082f7[_0x4ddf9f(0x265)](_0x137675)||_0x42a5af[_0x4ddf9f(0x265)](_0x522bb3);return _0x714664&&_0x7ef21b[_0x4ddf9f(0x258)](_0x192ae1[0x1]),_0x714664;})[_0x540b05(0x207)](_0x540b05(0x211),!![])['each'](function(){var _0x3514d3=_0x540b05;this[_0x3514d3(0x20f)]['appendChild'](this);}),_0x7ef21b['length']>0x0?(svg[_0x540b05(0x203)](_0x540b05(0x2bc))[_0x540b05(0x207)]('search-dimmed',!![]),svg[_0x540b05(0x203)]('.team-label')[_0x540b05(0x25f)](function(){var _0xf287d0=_0x540b05,_0x4794cd=d3[_0xf287d0(0x1f0)](this)['text']();return _0x7ef21b[_0xf287d0(0x265)](_0x4794cd);})[_0x540b05(0x207)](_0x540b05(0x211),!![])[_0x540b05(0x207)](_0x540b05(0x296),![])['each'](function(){var _0x5b9f77=_0x540b05;this[_0x5b9f77(0x20f)]['appendChild'](this);}),_0x7ef21b[_0x540b05(0x25a)](function(_0x58bb86){var _0x597cff=_0x540b05,_0x34927d=_0x597cff(0x295)+_0x58bb86[_0x597cff(0x2ae)](/\s+/g,'-')[_0x597cff(0x2cd)]();if(svg[_0x597cff(0x1f0)]('.'+_0x34927d)[_0x597cff(0x273)]()===0x0){var _0x588ae2=filteredData[_0x597cff(0x1eb)](function(_0x414055){return _0x414055[0x1]===_0x58bb86;});_0x588ae2&&(addTeamLabel(_0x588ae2),svg[_0x597cff(0x1f0)]('.'+_0x34927d)[_0x597cff(0x207)](_0x597cff(0x211),!![]));}})):(svg[_0x540b05(0x203)](_0x540b05(0x2bc))[_0x540b05(0x25d)](function(){var _0x219a8e=_0x540b05,_0x4f47f5=d3[_0x219a8e(0x1f0)](this),_0x3ac4c8=_0x4f47f5['text']();!clickedCircles[_0x219a8e(0x265)](_0x3ac4c8)&&_0x4f47f5[_0x219a8e(0x260)]();}),svg[_0x540b05(0x203)]('circle')[_0x540b05(0x205)](_0x540b05(0x1ea),function(_0x128173){var _0x1f7784=_0x540b05;return clickedCircles[_0x1f7784(0x265)](_0x128173[0x1])?getLeagueColor(_0x128173[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})[_0x540b05(0x205)]('stroke',function(_0x1881b5){var _0x5d856e=_0x540b05;return clickedCircles['includes'](_0x1881b5[0x1])?'#000':_0x5d856e(0x223);})[_0x540b05(0x205)](_0x540b05(0x23d),function(_0x3fe3e4){return clickedCircles['includes'](_0x3fe3e4[0x1])?0x2:0x0;}));});function resetSearch(){var _0x5d998b=_0x4bd33e;searchBar[_0x5d998b(0x1df)]='',svg[_0x5d998b(0x203)]('circle')[_0x5d998b(0x207)](_0x5d998b(0x211),![])[_0x5d998b(0x205)](_0x5d998b(0x1ea),function(_0x4f355d){var _0x56b00d=_0x5d998b;return clickedCircles[_0x56b00d(0x265)](_0x4f355d[0x1])?getLeagueColor(_0x4f355d[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x53246d){var _0x1a71a1=_0x5d998b;return clickedCircles[_0x1a71a1(0x265)](_0x53246d[0x1])?_0x1a71a1(0x280):_0x1a71a1(0x223);})[_0x5d998b(0x205)](_0x5d998b(0x23d),function(_0xc0649d){var _0x1a51de=_0x5d998b;return clickedCircles[_0x1a51de(0x265)](_0xc0649d[0x1])?0x2:0x0;})[_0x5d998b(0x205)](_0x5d998b(0x25f),'none')[_0x5d998b(0x25d)](function(){var _0x58e4b3=_0x5d998b;d3['select'](this)['style']('r',null),d3[_0x58e4b3(0x1f0)](this)[_0x58e4b3(0x1e3)]();}),svg[_0x5d998b(0x203)](_0x5d998b(0x2bc))[_0x5d998b(0x207)](_0x5d998b(0x211),![])[_0x5d998b(0x207)](_0x5d998b(0x296),![])[_0x5d998b(0x25d)](function(){var _0x4b3c77=_0x5d998b;d3[_0x4b3c77(0x1f0)](this)[_0x4b3c77(0x1e3)]();}),svg['selectAll'](_0x5d998b(0x2bc))[_0x5d998b(0x25d)](function(){var _0x6fcd9e=_0x5d998b,_0x18a625=d3[_0x6fcd9e(0x1f0)](this),_0x50ee0c=_0x18a625['text']();!clickedCircles[_0x6fcd9e(0x265)](_0x50ee0c)&&_0x18a625[_0x6fcd9e(0x260)]();});}var toggleButton=document[_0x4bd33e(0x283)](_0x4bd33e(0x2b3));toggleButton[_0x4bd33e(0x268)](_0x4bd33e(0x1e5),function(){var _0x214355=_0x4bd33e;medianLinesVisible=!medianLinesVisible,updateChart();const _0x129adb=document[_0x214355(0x283)](_0x214355(0x2a6));window[_0x214355(0x2d0)]&&window[_0x214355(0x2d0)][_0x214355(0x241)]?_0x129adb[_0x214355(0x255)]=medianLinesVisible?window[_0x214355(0x2d0)]['tooltip'][_0x214355(0x2ad)]||_0x214355(0x28f):window['currentTranslations'][_0x214355(0x241)][_0x214355(0x26b)]||_0x214355(0x1e6):_0x129adb[_0x214355(0x255)]=medianLinesVisible?_0x214355(0x28f):_0x214355(0x1e6);});function selectAllCircles(){var _0x3d4ffb=_0x4bd33e,_0x6a2995=filteredData[_0x3d4ffb(0x293)](function(_0x1ed6cc){var _0x9a0a2d=_0x3d4ffb;return clickedCircles[_0x9a0a2d(0x265)](_0x1ed6cc[0x1]);});_0x6a2995?(clickedCircles=[],svg[_0x3d4ffb(0x203)]('circle')[_0x3d4ffb(0x205)](_0x3d4ffb(0x1ea),_0x3d4ffb(0x290))[_0x3d4ffb(0x205)](_0x3d4ffb(0x22d),_0x3d4ffb(0x223)),svg[_0x3d4ffb(0x203)](_0x3d4ffb(0x2bc))[_0x3d4ffb(0x260)]()):(svg[_0x3d4ffb(0x203)](_0x3d4ffb(0x21e))[_0x3d4ffb(0x25d)](function(_0x1cc3c4){var _0x2ff539=_0x3d4ffb;!clickedCircles['includes'](_0x1cc3c4[0x1])&&(clickedCircles['push'](_0x1cc3c4[0x1]),d3['select'](this)[_0x2ff539(0x205)](_0x2ff539(0x1ea),getLeagueColor(_0x1cc3c4[0x2]))['style']('stroke',_0x2ff539(0x280))[_0x2ff539(0x205)]('stroke-width',0x2));}),filteredData[_0x3d4ffb(0x25a)](function(_0x2ec160){addTeamLabel(_0x2ec160);}));updateSelectAllButtonText();var _0x55d5f5=document['getElementById'](_0x3d4ffb(0x27d))['value'];updateLeagueLegend(_0x55d5f5);}function _0x4881(){var _0x3f1c3=['classList','.chart-wrapper','.custom-select-option,\x20.metric-select-option','fill','find','legend-color','true','right','#scatter-plot','select','G\x20=\x20xG\x20Line','rgba(0,\x200,\x200,\x200.3)','select-icon','15px','data-i18n','rgba(255,\x200,\x200,\x200.7)','pointer','ion-ios-circle-filled','append','opacity','left','data','y-metric-options','data-stable-position','12px','legend-item','getBoundingClientRect','data-value','selectAll','league-select-trigger','style','call','classed','event','duration','marginRight','8769558FkjWzK','La\x20Liga','text-anchor','<span>','parentNode','innerHTML','search-match','rgba(75,\x200,\x20130,\x200.7)','querySelector','href','5AOAagt','#select-x','cloneNode','max','transition','tooltip.xg-line-left','dark-mode','Unselect\x20all\x20teams','5093424GNEFcH','circle','toFixed','xy-line-hover','Enter','font-size','none','Ligue\x201','y-axis','length','marker#arrow-over,\x20marker#arrow-under','xG\x20per\x2090','.selected','min','responseText','false','stroke','font-family','keydown','bottom','league-legend','.xy-line-bg','startsWith','backgroundColor','https://datamb.football/database/TEAM/teamplots.csv','stroke-dasharray','attr','findIndex','select-x','className','Top\x205\x20Leagues','</strong><br/>','stroke-width','linearGradient#line-gradient','.chart-container','.team-label-','tooltip','y-metric-trigger','DOMContentLoaded','property','<br/>','width','indexOf','end','.performance-label','10394986ZrxNTq','toggle','GET','metrics.','createElement','rgba(255,\x20165,\x200,\x200.7)','option','x-axis','.xy-line-hover','splice','xy-line','textContent','top','rgba(238,\x20130,\x20238,\x200.7)','push','Inter,\x20sans-serif','forEach','add','.custom-select-options,\x20.metric-select-options','each','body','filter','remove','2581005teOYxM','.custom-select-trigger,\x20.metric-select-trigger','#select-y','Escape','includes','slice','Goals\x20per\x2090','addEventListener','data-original-x','transparent','showMedianLines','from','tooltip.xg-line-below','tickSize','Bundesliga','send','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','key','size','open','</span><br/>','mouseout','x-label','NFD','map','pct','innerWidth','node','select-league','keys','1410215pYSbmp','#000','enter','axisLeft','getElementById','unselectAll','Select\x20all\x20teams','getAttribute','trim','fontWeight','<strong>','.xy-line-label','rgba(0,\x200,\x20255,\x200.7)','median-line','text','nextElementSibling','Hide\x20median\x20lines','rgba(70,\x20130,\x20180,\x200.7)','translate(0,','tooltip.xg-line-above','every','height','team-label-','search-dimmed','mouseover','selected','name','line','block','flex','link','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','querySelectorAll','html','split','data-original-y','14px','innerHeight','median','median-lines-tooltip','x-metric-options','pageY','8px','iconify-icon','league-select-options','contains','hideMedianLines','replace','display','all','range','metric-select-option','toggle-median-lines','transform','input','5761524kZSGwV','Serie\x20A','1371968FWdvYv','Premier\x20League','x-metric-trigger','500','.team-label','ion-ios-circle-outline','rotate(-90)','sqrt','#333','appendChild','team-label\x20','metrics','tooltip.xg-line-right','axisBottom','nearest','.xy-line','scaleLinear','ArrowDown','resize','class','change','toLowerCase','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','preventDefault','currentTranslations','translate(','div','pageX','span','</span>','setAttribute','value','domain','target','scrollIntoView','interrupt','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','click','Show\x20median\x20lines'];_0x4881=function(){return _0x3f1c3;};return _0x4881();}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x4ea982){var _0x5bcb68=_0x4bd33e,_0x2ff5ca=document[_0x5bcb68(0x283)](_0x5bcb68(0x231));if(_0x4ea982!==_0x5bcb68(0x2b0)&&_0x4ea982!==_0x5bcb68(0x23b)){_0x2ff5ca['style'][_0x5bcb68(0x2af)]=_0x5bcb68(0x223);return;}if(clickedCircles[_0x5bcb68(0x226)]===0x0){_0x2ff5ca[_0x5bcb68(0x205)][_0x5bcb68(0x2af)]=_0x5bcb68(0x223);return;}_0x2ff5ca[_0x5bcb68(0x205)][_0x5bcb68(0x2af)]=_0x5bcb68(0x29c),_0x2ff5ca[_0x5bcb68(0x210)]='';var _0x2d6e52=document[_0x5bcb68(0x24e)](_0x5bcb68(0x2d2));_0x2d6e52[_0x5bcb68(0x205)][_0x5bcb68(0x288)]='bold',_0x2d6e52[_0x5bcb68(0x205)][_0x5bcb68(0x20a)]=_0x5bcb68(0x1f4),_0x2ff5ca[_0x5bcb68(0x2c1)](_0x2d6e52);var _0x4ba101=[];if(_0x4ea982===_0x5bcb68(0x2b0))_0x4ba101=Object[_0x5bcb68(0x27e)](leagueColors);else _0x4ea982===_0x5bcb68(0x23b)&&(_0x4ba101=[_0x5bcb68(0x2b9),_0x5bcb68(0x20c),_0x5bcb68(0x26f),'Serie\x20A',_0x5bcb68(0x224)]);_0x4ba101[_0x5bcb68(0x25a)](function(_0x5e1981){var _0xdc1756=_0x5bcb68,_0x5ce57f=document[_0xdc1756(0x24e)]('div');_0x5ce57f[_0xdc1756(0x23a)]=_0xdc1756(0x200);var _0x263dd2=document[_0xdc1756(0x24e)](_0xdc1756(0x2d2));_0x263dd2[_0xdc1756(0x23a)]=_0xdc1756(0x1ec),_0x263dd2['style'][_0xdc1756(0x234)]=leagueColors[_0x5e1981];var _0x4ff391=document[_0xdc1756(0x24e)]('span');_0x4ff391[_0xdc1756(0x255)]=_0x5e1981,_0x5ce57f[_0xdc1756(0x2c1)](_0x263dd2),_0x5ce57f[_0xdc1756(0x2c1)](_0x4ff391),_0x2ff5ca['appendChild'](_0x5ce57f);});}const data1=dataLines[_0x4bd33e(0x279)](_0x599f65=>{var _0x4551ea=_0x4bd33e;const [_0x59e072,_0x16d37f]=_0x599f65[_0x4551ea(0x2a1)](',');return{'name':_0x59e072,'link':_0x16d37f};});function search2(_0x3439c3){var _0x145bd5=_0x4bd33e;autocompleteBox[_0x145bd5(0x210)]='';const _0x2f3d56=_0x3439c3[_0x145bd5(0x2cd)](),_0x51e732=data1[_0x145bd5(0x25f)](_0x3b5a18=>{var _0x170acd=_0x145bd5;const _0xa9a442=_0x3b5a18[_0x170acd(0x299)]?_0x3b5a18[_0x170acd(0x299)][_0x170acd(0x2cd)]():'';return _0xa9a442['includes'](_0x2f3d56);});if(_0x51e732[_0x145bd5(0x226)]===0x0){autocompleteBox['style'][_0x145bd5(0x2af)]='none';return;}_0x51e732['forEach'](_0x1056fc=>{var _0x2c69b6=_0x145bd5;if(_0x1056fc[_0x2c69b6(0x299)]&&_0x1056fc[_0x2c69b6(0x29d)]){const _0xcc3da5=document[_0x2c69b6(0x24e)](_0x2c69b6(0x2d2)),_0x827b80=document[_0x2c69b6(0x24e)]('a');_0x827b80[_0x2c69b6(0x214)]=_0x1056fc['link'],_0x827b80[_0x2c69b6(0x255)]=_0x1056fc[_0x2c69b6(0x299)],_0xcc3da5['appendChild'](_0x827b80),autocompleteBox[_0x2c69b6(0x2c1)](_0xcc3da5);}}),autocompleteBox[_0x145bd5(0x205)]['display']='block';}searchInput[_0x4bd33e(0x268)](_0x4bd33e(0x2b5),()=>{var _0xbf0a8=_0x4bd33e;const _0x592f6a=searchInput[_0xbf0a8(0x1df)];_0x592f6a[_0xbf0a8(0x287)]()===''?autocompleteBox[_0xbf0a8(0x205)][_0xbf0a8(0x2af)]=_0xbf0a8(0x223):search2(_0x592f6a);});function addTeamLabel(_0x5e5926){var _0x345510=_0x4bd33e,_0x1b8da7=xScale(_0x5e5926[header['indexOf'](xMetric)]),_0xaa5d3d=yScale(_0x5e5926[header[_0x345510(0x247)](yMetric)]),_0x521c8e='team-label-'+_0x5e5926[0x1][_0x345510(0x2ae)](/\s+/g,'-')[_0x345510(0x2cd)]();if(svg[_0x345510(0x1f0)]('.'+_0x521c8e)[_0x345510(0x273)]()>0x0)return;var _0x5b5e47=svg[_0x345510(0x1f9)](_0x345510(0x28d))['attr'](_0x345510(0x2cb),_0x345510(0x2c2)+_0x521c8e)[_0x345510(0x237)]('x',_0x1b8da7+0xc)[_0x345510(0x237)]('y',_0xaa5d3d+0x4)[_0x345510(0x28d)](_0x5e5926[0x1])[_0x345510(0x205)]('font-family',_0x345510(0x259))[_0x345510(0x205)]('font-size',_0x345510(0x1ff))[_0x345510(0x205)]('font-weight',_0x345510(0x2bb))['style'](_0x345510(0x1ea),_0x345510(0x2c0))[_0x345510(0x237)](_0x345510(0x269),_0x1b8da7)['attr'](_0x345510(0x2a2),_0xaa5d3d)[_0x345510(0x237)](_0x345510(0x1fe),_0x345510(0x22c));positionLabelToAvoidOverlap(_0x5b5e47,_0x1b8da7,_0xaa5d3d);}function positionLabelToAvoidOverlap(_0x194513,_0x21f8c9,_0x5b3ad9){var _0x597d74=_0x4bd33e;if(_0x194513[_0x597d74(0x237)](_0x597d74(0x1fe))===_0x597d74(0x1ed)){var _0x5d8d78=parseFloat(_0x194513[_0x597d74(0x237)](_0x597d74(0x269))),_0x1a085b=parseFloat(_0x194513[_0x597d74(0x237)](_0x597d74(0x2a2))),_0xfcb351=parseFloat(_0x194513[_0x597d74(0x237)]('x')),_0x416247=parseFloat(_0x194513[_0x597d74(0x237)]('y')),_0x48f3bf=Math[_0x597d74(0x2bf)](Math['pow'](_0x5d8d78-_0x21f8c9,0x2)+Math['pow'](_0x1a085b-_0x5b3ad9,0x2));if(_0x48f3bf<0x5){_0x194513[_0x597d74(0x237)](_0x597d74(0x269),_0x21f8c9)[_0x597d74(0x237)]('data-original-y',_0x5b3ad9);return;}_0x194513[_0x597d74(0x237)](_0x597d74(0x1fe),_0x597d74(0x22c));}var _0x28d5a3=svg[_0x597d74(0x203)](_0x597d74(0x2bc))[_0x597d74(0x25f)](function(){return this!==_0x194513['node']();}),_0x37b98a=_0x194513['node']()['getBBox'](),_0x57b3d4=[{'x':_0x21f8c9+0xc,'y':_0x5b3ad9+0x4},{'x':_0x21f8c9+0xc,'y':_0x5b3ad9-0xa},{'x':_0x21f8c9+0xc,'y':_0x5b3ad9+0x12},{'x':_0x21f8c9-_0x37b98a[_0x597d74(0x246)]-0x5,'y':_0x5b3ad9+0x4},{'x':_0x21f8c9-_0x37b98a[_0x597d74(0x246)]-0x5,'y':_0x5b3ad9-0xa},{'x':_0x21f8c9-_0x37b98a['width']-0x5,'y':_0x5b3ad9+0x12},{'x':_0x21f8c9-_0x37b98a[_0x597d74(0x246)]/0x2,'y':_0x5b3ad9-0xf},{'x':_0x21f8c9-_0x37b98a['width']/0x2,'y':_0x5b3ad9+0x19}],_0x19cc20=findPositionWithoutOverlap(_0x57b3d4,_0x28d5a3,_0x37b98a);_0x194513[_0x597d74(0x237)]('x',_0x19cc20['x'])[_0x597d74(0x237)]('y',_0x19cc20['y'])[_0x597d74(0x237)](_0x597d74(0x269),_0x21f8c9)[_0x597d74(0x237)](_0x597d74(0x2a2),_0x5b3ad9)[_0x597d74(0x237)](_0x597d74(0x1fe),'true');}function findPositionWithoutOverlap(_0x1a0c94,_0x327948,_0x1779e8){var _0x31b628=_0x4bd33e;for(var _0x17674e=0x0;_0x17674e<_0x1a0c94[_0x31b628(0x226)];_0x17674e++){var _0xb254a=_0x1a0c94[_0x17674e],_0x44d885=![],_0x1c854={'x1':_0xb254a['x'],'y1':_0xb254a['y']-_0x1779e8[_0x31b628(0x294)],'x2':_0xb254a['x']+_0x1779e8['width'],'y2':_0xb254a['y']+0x5};if(_0x1c854['x1']<0x0||_0x1c854['x2']>width||_0x1c854['y1']<0x0||_0x1c854['y2']>height)continue;_0x327948[_0x31b628(0x25d)](function(){var _0x559103=_0x31b628,_0x7ed612=d3[_0x559103(0x1f0)](this)[_0x559103(0x27c)]()['getBBox'](),_0x2d729c=parseFloat(d3[_0x559103(0x1f0)](this)[_0x559103(0x237)]('x')),_0x247903=parseFloat(d3['select'](this)[_0x559103(0x237)]('y')),_0x46027b={'x1':_0x2d729c,'y1':_0x247903-_0x7ed612[_0x559103(0x294)],'x2':_0x2d729c+_0x7ed612[_0x559103(0x246)],'y2':_0x247903+0x5};!(_0x1c854['x2']<_0x46027b['x1']||_0x1c854['x1']>_0x46027b['x2']||_0x1c854['y2']<_0x46027b['y1']||_0x1c854['y1']>_0x46027b['y2'])&&(_0x44d885=!![]);});if(!_0x44d885)return _0xb254a;}for(var _0x17674e=0x0;_0x17674e<_0x1a0c94[_0x31b628(0x226)];_0x17674e++){var _0xb254a=_0x1a0c94[_0x17674e],_0x1c854={'x1':_0xb254a['x'],'y1':_0xb254a['y']-_0x1779e8[_0x31b628(0x294)],'x2':_0xb254a['x']+_0x1779e8['width'],'y2':_0xb254a['y']+0x5};if(_0x1c854['x1']>=0x0&&_0x1c854['x2']<=width&&_0x1c854['y1']>=0x0&&_0x1c854['y2']<=height)return _0xb254a;}var _0x246e50={'x':Math[_0x31b628(0x22a)](Math['max'](0x0,_0x1a0c94[0x0]['x']),width-_0x1779e8[_0x31b628(0x246)]),'y':Math[_0x31b628(0x22a)](Math[_0x31b628(0x218)](_0x1779e8[_0x31b628(0x294)],_0x1a0c94[0x0]['y']),height)};return _0x246e50;}var originalUpdateChart=updateChart;updateChart=function(){originalUpdateChart(),setTimeout(function(){var _0x32a0b7=_0x3bd5,_0x3f7159=svg['selectAll'](_0x32a0b7(0x2bc));_0x3f7159[_0x32a0b7(0x25d)](function(){var _0x30ede8=_0x32a0b7,_0x15e577=d3[_0x30ede8(0x1f0)](this),_0x15eaa7=_0x15e577[_0x30ede8(0x28d)](),_0x393cfe=filteredData[_0x30ede8(0x1eb)](function(_0x227dbf){return _0x227dbf[0x1]===_0x15eaa7;});if(_0x393cfe){var _0x42d4f4=xScale(_0x393cfe[header[_0x30ede8(0x247)](xMetric)]),_0x1dded3=yScale(_0x393cfe[header[_0x30ede8(0x247)](yMetric)]);positionLabelToAvoidOverlap(_0x15e577,_0x42d4f4,_0x1dded3);}});},0xa);},document[_0x4bd33e(0x268)](_0x4bd33e(0x243),function(){var _0x2e3efc=_0x4bd33e;const _0x532c2a=document[_0x2e3efc(0x283)]('median-lines-tooltip');_0x532c2a[_0x2e3efc(0x255)]=medianLinesVisible?_0x2e3efc(0x28f):_0x2e3efc(0x1e6);});
        
    </script>
  
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>

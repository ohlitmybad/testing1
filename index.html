<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }

        .position-filters {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .position-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .position-btn:hover, .position-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
        .watermark-logo {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 100px;
            opacity: 0;
            z-index: 1;
            pointer-events: none; /* Ensure it doesn't interfere with chart interactions */
        }

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }

        circle.highlighted {
            stroke: #ff00ff;
            stroke-width: 3px;
        }

        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 20px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
        }

        @media (max-width: 768px) {
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}



  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 5px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
}

.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}

.custom-select-option.selected, .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.1);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }

        .dark-mode .position-btn {
            background-color: #1a1a1a;
            color: var(--text-color);
            border: 1px solid #333;
        }

        .dark-mode .position-btn:hover, 
        .dark-mode .position-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.highlighted {
            stroke: #ff00ff;
            stroke-width: 3px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

        .dark-mode .watermark-logo {
            opacity: 0 !important;
            filter: brightness(0.7) invert(0.8);
        }
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  
    
    .control-group {
        width: 100%;
        margin-bottom: 10px;
    }
    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}

    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
        </div>
    </div>

    <div class="dark-mode-toggle" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>



    <script>
        const _0x578fdc=_0x1de3;(function(_0xeee22a,_0x1f9436){const _0x255e77=_0x1de3,_0x58aad2=_0xeee22a();while(!![]){try{const _0x4e7ffa=parseInt(_0x255e77(0x22c))/0x1+-parseInt(_0x255e77(0x1e3))/0x2*(parseInt(_0x255e77(0x1e9))/0x3)+-parseInt(_0x255e77(0x21e))/0x4+-parseInt(_0x255e77(0x221))/0x5+parseInt(_0x255e77(0x1ed))/0x6+parseInt(_0x255e77(0x225))/0x7*(parseInt(_0x255e77(0x201))/0x8)+-parseInt(_0x255e77(0x1d5))/0x9*(-parseInt(_0x255e77(0x1e7))/0xa);if(_0x4e7ffa===_0x1f9436)break;else _0x58aad2['push'](_0x58aad2['shift']());}catch(_0xd01062){_0x58aad2['push'](_0x58aad2['shift']());}}}(_0x1dd5,0xb3f3c));function toggleDarkMode(){const _0x18dd24=_0x1de3,_0x351de2=document[_0x18dd24(0x1fe)](_0x18dd24(0x1da));_0x351de2[_0x18dd24(0x206)][_0x18dd24(0x1d7)](_0x18dd24(0x1e1));const _0xf948a6=_0x351de2[_0x18dd24(0x206)][_0x18dd24(0x20c)](_0x18dd24(0x1e1));localStorage['setItem'](_0x18dd24(0x20d),_0xf948a6),updateChart();}document[_0x578fdc(0x222)]('DOMContentLoaded',function(){const _0x488dbd=_0x578fdc,_0x2b3e33=localStorage[_0x488dbd(0x1f8)]('darkMode');if(_0x2b3e33===_0x488dbd(0x228)){const _0x14cb03=document[_0x488dbd(0x1fe)](_0x488dbd(0x1da));_0x14cb03[_0x488dbd(0x206)][_0x488dbd(0x1fa)](_0x488dbd(0x1e1));}setTimeout(()=>{const _0x5a8c23=_0x488dbd;document[_0x5a8c23(0x1da)][_0x5a8c23(0x1dc)][_0x5a8c23(0x22f)]=_0x5a8c23(0x21c),document[_0x5a8c23(0x1ce)](_0x5a8c23(0x227))['forEach'](_0x2ffc2b=>{const _0x10a99c=_0x5a8c23;_0x2ffc2b[_0x10a99c(0x1dc)]['transition']=_0x10a99c(0x1e8);});},0x64);});let initializeCustomSelectors=function(){const _0x3114dc=_0x578fdc,_0x53ab3a=document['getElementById'](_0x3114dc(0x21a)),_0x954d2d=document[_0x3114dc(0x1e6)]('league-select-options'),_0x3fc7a4=document['getElementById'](_0x3114dc(0x205));setupCustomSelect(_0x53ab3a,_0x954d2d,_0x3fc7a4);const _0xd1c1fe=document['getElementById']('x-metric-trigger'),_0x33a1ec=document[_0x3114dc(0x1e6)](_0x3114dc(0x1cc)),_0x3be377=document['getElementById']('select-x');populateMetricOptions(_0x33a1ec,header[_0x3114dc(0x216)](0x3),function(_0x573c90,_0x24c455){const _0x241914=_0x3114dc;_0xd1c1fe[_0x241914(0x1fe)](_0x241914(0x218))[_0x241914(0x230)]===_0x24c455&&_0x573c90[_0x241914(0x206)][_0x241914(0x1fa)](_0x241914(0x1e2));if(_0x24c455===header[0x3]){_0x573c90[_0x241914(0x206)][_0x241914(0x1fa)](_0x241914(0x1e2)),_0xd1c1fe[_0x241914(0x1fe)](_0x241914(0x218))[_0x241914(0x230)]=_0x24c455;const _0x5b5a37=_0x24c455[_0x241914(0x236)]()['replace'](/ /g,'-')[_0x241914(0x1f3)](/%/g,_0x241914(0x1f7));_0xd1c1fe[_0x241914(0x1fe)](_0x241914(0x218))[_0x241914(0x212)]('data-i18n',_0x241914(0x21b)+_0x5b5a37);}}),setupCustomSelect(_0xd1c1fe,_0x33a1ec,_0x3be377);const _0x5cf8b1=document[_0x3114dc(0x1e6)](_0x3114dc(0x1ff)),_0x56e923=document['getElementById']('y-metric-options'),_0x4bc609=document['getElementById'](_0x3114dc(0x204));populateMetricOptions(_0x56e923,header['slice'](0x3),function(_0x28e952,_0x3fcc4f){const _0x5bb268=_0x3114dc;_0x5cf8b1[_0x5bb268(0x1fe)](_0x5bb268(0x218))[_0x5bb268(0x230)]===_0x3fcc4f&&_0x28e952[_0x5bb268(0x206)][_0x5bb268(0x1fa)](_0x5bb268(0x1e2));if(_0x3fcc4f===header[0x4]){_0x28e952[_0x5bb268(0x206)]['add'](_0x5bb268(0x1e2)),_0x5cf8b1[_0x5bb268(0x1fe)]('span')[_0x5bb268(0x230)]=_0x3fcc4f;const _0x536d6b=_0x3fcc4f[_0x5bb268(0x236)]()['replace'](/ /g,'-')[_0x5bb268(0x1f3)](/%/g,'pct');_0x5cf8b1[_0x5bb268(0x1fe)](_0x5bb268(0x218))[_0x5bb268(0x212)](_0x5bb268(0x231),_0x5bb268(0x21b)+_0x536d6b);}}),setupCustomSelect(_0x5cf8b1,_0x56e923,_0x4bc609);};function populateMetricOptions(_0x36a89e,_0x3ce8c8,_0x6763bd){const _0x2d6812=_0x578fdc;_0x36a89e[_0x2d6812(0x1df)]='',_0x3ce8c8['forEach'](function(_0x4b71d0){const _0x495717=_0x2d6812,_0x22abfc=document['createElement']('div');_0x22abfc[_0x495717(0x1d2)]=_0x495717(0x1f9),_0x22abfc[_0x495717(0x212)](_0x495717(0x237),_0x4b71d0);const _0x5935e2=document[_0x495717(0x1cf)](_0x495717(0x218));_0x5935e2[_0x495717(0x230)]=_0x4b71d0;const _0x463d30=_0x4b71d0[_0x495717(0x236)]()[_0x495717(0x1f3)](/ /g,'-')[_0x495717(0x1f3)](/%/g,'pct');_0x5935e2[_0x495717(0x212)](_0x495717(0x231),_0x495717(0x21b)+_0x463d30),_0x22abfc[_0x495717(0x234)](_0x5935e2);if(_0x6763bd)_0x6763bd(_0x22abfc,_0x4b71d0);_0x36a89e['appendChild'](_0x22abfc);});}function setupCustomSelect(_0x2dbd23,_0x5f4edc,_0x3df9ee){const _0x8bed=_0x578fdc;_0x2dbd23[_0x8bed(0x222)]('click',function(){const _0x1eb5c3=_0x8bed;document[_0x1eb5c3(0x1ce)](_0x1eb5c3(0x1ee))['forEach'](function(_0x4582ce){const _0x3de5d5=_0x1eb5c3;if(_0x4582ce!==_0x2dbd23){_0x4582ce[_0x3de5d5(0x206)][_0x3de5d5(0x1e0)]('open');const _0x523762=_0x4582ce['nextElementSibling'];if(_0x523762)_0x523762[_0x3de5d5(0x1dc)]['display']=_0x3de5d5(0x22e);}}),_0x2dbd23[_0x1eb5c3(0x206)][_0x1eb5c3(0x1d7)]('open');const _0x5cfeb3=_0x2dbd23['classList'][_0x1eb5c3(0x20c)](_0x1eb5c3(0x1e5));_0x5f4edc[_0x1eb5c3(0x1dc)][_0x1eb5c3(0x20a)]=_0x5cfeb3?'block':_0x1eb5c3(0x22e);});const _0x184753=_0x5f4edc[_0x8bed(0x1ce)](_0x8bed(0x1d3));_0x184753[_0x8bed(0x1fc)](_0x5357eb=>{const _0x1851f6=_0x8bed;_0x5357eb[_0x1851f6(0x222)](_0x1851f6(0x200),function(){const _0x599cc4=_0x1851f6;_0x184753[_0x599cc4(0x1fc)](_0x592560=>_0x592560[_0x599cc4(0x206)][_0x599cc4(0x1e0)]('selected')),this[_0x599cc4(0x206)][_0x599cc4(0x1fa)](_0x599cc4(0x1e2));const _0x436221=this[_0x599cc4(0x1fe)](_0x599cc4(0x218))[_0x599cc4(0x230)],_0x281af4=this[_0x599cc4(0x1fe)]('span')[_0x599cc4(0x233)](_0x599cc4(0x231)),_0x358d47=this[_0x599cc4(0x1fe)](_0x599cc4(0x219));_0x2dbd23[_0x599cc4(0x1df)]='';if(_0x358d47){const _0x455e76=_0x358d47['cloneNode'](!![]);_0x455e76[_0x599cc4(0x1dc)]['marginRight']=_0x599cc4(0x1eb),_0x2dbd23[_0x599cc4(0x234)](_0x455e76);}const _0x476046=document['createElement'](_0x599cc4(0x218));_0x476046['textContent']=_0x436221;_0x281af4&&_0x476046['setAttribute'](_0x599cc4(0x231),_0x281af4);_0x2dbd23[_0x599cc4(0x234)](_0x476046);const _0x50c788=this[_0x599cc4(0x233)](_0x599cc4(0x237));_0x3df9ee[_0x599cc4(0x21f)]=_0x50c788||_0x436221;const _0x374504=new Event('change');_0x3df9ee['dispatchEvent'](_0x374504),_0x2dbd23[_0x599cc4(0x206)][_0x599cc4(0x1e0)](_0x599cc4(0x1e5)),_0x5f4edc[_0x599cc4(0x1dc)][_0x599cc4(0x20a)]='none';});});let _0x24c3cb='',_0x33a31b;document['addEventListener'](_0x8bed(0x1f4),function(_0x4e4027){const _0x2e0229=_0x8bed;if(!_0x2dbd23[_0x2e0229(0x206)][_0x2e0229(0x20c)](_0x2e0229(0x1e5)))return;if(_0x4e4027[_0x2e0229(0x1d0)]===_0x2e0229(0x1ea)||_0x4e4027[_0x2e0229(0x1d0)]===_0x2e0229(0x235)){_0x4e4027[_0x2e0229(0x226)]();const _0x24d6af=Array[_0x2e0229(0x20f)](_0x184753),_0x30b025=_0x24d6af[_0x2e0229(0x1fd)](_0x2ae090=>_0x2ae090['classList'][_0x2e0229(0x20c)](_0x2e0229(0x1e2)));let _0xdd7cce;_0x4e4027[_0x2e0229(0x1d0)]===_0x2e0229(0x1ea)?_0xdd7cce=_0x30b025<_0x24d6af[_0x2e0229(0x1db)]-0x1?_0x30b025+0x1:0x0:_0xdd7cce=_0x30b025>0x0?_0x30b025-0x1:_0x24d6af['length']-0x1;_0x184753[_0x2e0229(0x1fc)](_0x40f764=>_0x40f764[_0x2e0229(0x206)][_0x2e0229(0x1e0)](_0x2e0229(0x1e2))),_0x24d6af[_0xdd7cce]['classList'][_0x2e0229(0x1fa)]('selected'),_0x24d6af[_0xdd7cce][_0x2e0229(0x1f2)]({'block':'nearest'});return;}if(_0x4e4027['key']==='Enter'){_0x4e4027[_0x2e0229(0x226)]();const _0x3629ca=_0x5f4edc[_0x2e0229(0x1fe)](_0x2e0229(0x1f5));_0x3629ca&&_0x3629ca[_0x2e0229(0x200)]();return;}if(_0x4e4027['key']===_0x2e0229(0x20b)){_0x4e4027[_0x2e0229(0x226)](),_0x2dbd23['classList'][_0x2e0229(0x1e0)](_0x2e0229(0x1e5)),_0x5f4edc[_0x2e0229(0x1dc)]['display']=_0x2e0229(0x22e);return;}if(_0x4e4027[_0x2e0229(0x1d0)][_0x2e0229(0x1db)]===0x1&&_0x4e4027[_0x2e0229(0x1d0)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x33a31b),_0x24c3cb+=_0x4e4027[_0x2e0229(0x1d0)][_0x2e0229(0x236)]();const _0x13a74b=Array[_0x2e0229(0x20f)](_0x184753)[_0x2e0229(0x1ef)](_0x5deb97=>{const _0x42f802=_0x2e0229,_0x5f47e1=_0x5deb97[_0x42f802(0x1fe)](_0x42f802(0x218))[_0x42f802(0x230)][_0x42f802(0x236)]();return _0x5f47e1['startsWith'](_0x24c3cb);});_0x13a74b&&(_0x184753[_0x2e0229(0x1fc)](_0x32c8a6=>_0x32c8a6[_0x2e0229(0x206)][_0x2e0229(0x1e0)](_0x2e0229(0x1e2))),_0x13a74b['classList'][_0x2e0229(0x1fa)](_0x2e0229(0x1e2)),_0x13a74b[_0x2e0229(0x1f2)]({'block':_0x2e0229(0x209)})),_0x33a31b=setTimeout(()=>{_0x24c3cb='';},0x3e8);}});}document[_0x578fdc(0x222)]('click',function(_0x33a076){const _0xc5e39b=_0x578fdc,_0x11d315=document[_0xc5e39b(0x1ce)](_0xc5e39b(0x22a)),_0x3aa1b4=document['querySelectorAll'](_0xc5e39b(0x210));let _0x3c81d6=![];_0x11d315[_0xc5e39b(0x1fc)](function(_0x36e1b5,_0x420634){const _0x56b6e2=_0xc5e39b,_0x404132=_0x3aa1b4[_0x420634];_0x36e1b5&&_0x404132&&(_0x36e1b5[_0x56b6e2(0x20c)](_0x33a076[_0x56b6e2(0x1d6)])||_0x404132[_0x56b6e2(0x20c)](_0x33a076[_0x56b6e2(0x1d6)]))&&(_0x3c81d6=!![]);}),!_0x3c81d6&&_0x11d315[_0xc5e39b(0x1fc)](function(_0x3f6e44,_0x52d19f){const _0x218905=_0xc5e39b;_0x3f6e44&&_0x3aa1b4[_0x52d19f]&&(_0x3f6e44['classList'][_0x218905(0x1e0)](_0x218905(0x1e5)),_0x3aa1b4[_0x52d19f]['style'][_0x218905(0x20a)]=_0x218905(0x22e));});});function _0x1de3(_0x4831c7,_0xe90f97){const _0x1dd5e9=_0x1dd5();return _0x1de3=function(_0x1de336,_0x1a1cba){_0x1de336=_0x1de336-0x1ca;let _0x1998a2=_0x1dd5e9[_0x1de336];return _0x1998a2;},_0x1de3(_0x4831c7,_0xe90f97);}function takeScreenshot(){const _0x2d758d=_0x578fdc,_0x29a8b7=document[_0x2d758d(0x1fe)]('.chart-container'),_0x53ff1c=document[_0x2d758d(0x1da)]['classList'][_0x2d758d(0x20c)](_0x2d758d(0x1e1));html2canvas(_0x29a8b7,{'scale':0x2,'backgroundColor':_0x53ff1c?_0x2d758d(0x213):'#FFFFFF','allowTaint':!![],'useCORS':!![],'logging':![]})[_0x2d758d(0x1f6)](function(_0x424b0a){const _0x4b86db=_0x2d758d,_0x7c6b43=_0x424b0a['toDataURL']('image/png',0x1),_0x18cc0d=document[_0x4b86db(0x1cf)]('a');_0x18cc0d[_0x4b86db(0x229)]=_0x4b86db(0x1f1),_0x18cc0d['href']=_0x7c6b43,_0x18cc0d[_0x4b86db(0x200)]();})['catch'](function(_0x36f560){const _0x55e4fb=_0x2d758d;console[_0x55e4fb(0x217)](_0x55e4fb(0x224),_0x36f560),fallbackScreenshot(_0x53ff1c);});}function fallbackScreenshot(_0x112e56){const _0x43c878=_0x578fdc,_0x4772fb=document['getElementById'](_0x43c878(0x214)),_0x15aa18=document['querySelector'](_0x43c878(0x208)),_0x28e3d0=_0x4772fb[_0x43c878(0x1d8)](),_0x1bb946=document[_0x43c878(0x1cf)](_0x43c878(0x1e4)),_0x3bac5f=0x2;_0x1bb946[_0x43c878(0x202)]=_0x28e3d0[_0x43c878(0x202)]*_0x3bac5f,_0x1bb946[_0x43c878(0x211)]=_0x28e3d0[_0x43c878(0x211)]*_0x3bac5f;const _0x4d8e83=_0x1bb946[_0x43c878(0x1cd)]('2d');_0x4d8e83[_0x43c878(0x21d)](_0x3bac5f,_0x3bac5f),_0x4d8e83[_0x43c878(0x1d4)]=!![],_0x4d8e83['imageSmoothingQuality']='high',_0x4d8e83['fillStyle']=_0x112e56?'#2c2c2c':_0x43c878(0x1d9),_0x4d8e83[_0x43c878(0x1dd)](0x0,0x0,_0x1bb946[_0x43c878(0x202)],_0x1bb946['height']);const _0x498e49=new Image();_0x498e49[_0x43c878(0x203)]=_0x43c878(0x1ec),_0x498e49[_0x43c878(0x207)]=_0x15aa18[_0x43c878(0x207)];const _0x5afb27=new Image(),_0xdc79e9=new XMLSerializer()[_0x43c878(0x232)](_0x4772fb),_0x104458=new Blob([_0xdc79e9],{'type':_0x43c878(0x22b)}),_0x56bb5a=URL[_0x43c878(0x1de)](_0x104458);_0x498e49[_0x43c878(0x223)]=function(){const _0x553175=_0x43c878,_0x2ae809=(_0x28e3d0[_0x553175(0x202)]-_0x15aa18[_0x553175(0x202)])/0x2,_0x3293c6=(_0x28e3d0[_0x553175(0x211)]-_0x15aa18[_0x553175(0x211)])/0x2;_0x4d8e83[_0x553175(0x1cb)]=0.04,_0x4d8e83[_0x553175(0x1d1)](_0x498e49,_0x2ae809,_0x3293c6,_0x15aa18[_0x553175(0x202)],_0x15aa18[_0x553175(0x211)]),_0x4d8e83[_0x553175(0x1cb)]=0x1,_0x5afb27['onload']=function(){const _0x3563c4=_0x553175;_0x4d8e83[_0x3563c4(0x1d1)](_0x5afb27,0x0,0x0,_0x28e3d0['width'],_0x28e3d0[_0x3563c4(0x211)]);const _0x4ea1a5=_0x1bb946[_0x3563c4(0x1f0)](_0x3563c4(0x220),0x1),_0x558574=document[_0x3563c4(0x1cf)]('a');_0x558574['download']=_0x3563c4(0x215),_0x558574[_0x3563c4(0x1ca)]=_0x4ea1a5,_0x558574[_0x3563c4(0x200)](),URL[_0x3563c4(0x20e)](_0x56bb5a);},_0x5afb27['src']=_0x56bb5a;};}function _0x1dd5(){const _0x25bc1c=['y-metric-trigger','click','1256nUERyH','width','crossOrigin','select-y','select-league','classList','src','.watermark-logo','nearest','display','Escape','contains','darkMode','revokeObjectURL','from','.custom-select-options,\x20.metric-select-options','height','setAttribute','#2c2c2c','scatter-plot','team-performance-chart.png','slice','error','span','iconify-icon','league-select-trigger','metrics.','background-color\x200.3s,\x20color\x200.3s','scale','5759108BcVsgd','value','image/png','5153770BbCnZg','addEventListener','onload','Screenshot\x20failed:','28371kiETfC','preventDefault','.chart-wrapper,\x20.header,\x20.btn,\x20input,\x20select,\x20.tooltip,\x20.dark-mode-toggle','true','download','.custom-select-trigger,\x20.metric-select-trigger','image/svg+xml;charset=utf-8','969244dRmlZD','.position-btn','none','transition','textContent','data-i18n','serializeToString','getAttribute','appendChild','ArrowUp','toLowerCase','data-value','href','globalAlpha','x-metric-options','getContext','querySelectorAll','createElement','key','drawImage','className','.custom-select-option,\x20.metric-select-option','imageSmoothingEnabled','9KrhSXW','target','toggle','getBoundingClientRect','#FFFFFF','body','length','style','fillRect','createObjectURL','innerHTML','remove','dark-mode','selected','6pJNxpW','canvas','open','getElementById','11600790OVyNrD','background-color\x200.3s,\x20color\x200.3s,\x20border-color\x200.3s,\x20box-shadow\x200.3s','974562VOEsuq','ArrowDown','8px','Anonymous','8499198AVQgkW','.custom-select-trigger.open,\x20.metric-select-trigger.open','find','toDataURL','DataMB\x20Screenshot.png','scrollIntoView','replace','keydown','.selected','then','pct','getItem','metric-select-option','add','active','forEach','findIndex','querySelector'];_0x1dd5=function(){return _0x25bc1c;};return _0x1dd5();}document[_0x578fdc(0x1ce)](_0x578fdc(0x22d))['forEach'](_0x5ad89a=>{const _0x20a700=_0x578fdc;_0x5ad89a[_0x20a700(0x222)](_0x20a700(0x200),function(){const _0x48a4cf=_0x20a700;document['querySelectorAll'](_0x48a4cf(0x22d))['forEach'](_0x5c551d=>_0x5c551d[_0x48a4cf(0x206)]['remove'](_0x48a4cf(0x1fb))),this[_0x48a4cf(0x206)][_0x48a4cf(0x1fa)]('active');});});
   
    </script>
    
    <script>

var _0x5dd5d4=_0x18df;(function(_0x5ef1d2,_0x1381d2){var _0x38464c=_0x18df,_0x191f9c=_0x5ef1d2();while(!![]){try{var _0x1d46cd=-parseInt(_0x38464c(0x1f1))/0x1*(parseInt(_0x38464c(0x268))/0x2)+parseInt(_0x38464c(0x258))/0x3*(-parseInt(_0x38464c(0x239))/0x4)+-parseInt(_0x38464c(0x205))/0x5+-parseInt(_0x38464c(0x237))/0x6+-parseInt(_0x38464c(0x211))/0x7+-parseInt(_0x38464c(0x232))/0x8*(parseInt(_0x38464c(0x1d3))/0x9)+-parseInt(_0x38464c(0x24c))/0xa*(-parseInt(_0x38464c(0x24a))/0xb);if(_0x1d46cd===_0x1381d2)break;else _0x191f9c['push'](_0x191f9c['shift']());}catch(_0x1cb1dd){_0x191f9c['push'](_0x191f9c['shift']());}}}(_0x198f,0x97e2d));function getTranslation(_0x100e23,_0x1f9393){var _0x215261=_0x18df;const _0x156526=_0x100e23['split']('.');try{let _0x4802c7=window[_0x215261(0x260)]||{};for(const _0x11d616 of _0x156526){if(_0x4802c7&&_0x4802c7[_0x11d616])_0x4802c7=_0x4802c7[_0x11d616];else return _0x1f9393;}return _0x4802c7;}catch(_0xc904bd){return _0x1f9393;}}const xhr=new XMLHttpRequest();xhr['open'](_0x5dd5d4(0x1f7),_0x5dd5d4(0x244),![]),xhr[_0x5dd5d4(0x1c9)](null);let csvData=xhr[_0x5dd5d4(0x1dc)],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';function _0x18df(_0x4bb170,_0x30ff26){var _0x198fe0=_0x198f();return _0x18df=function(_0x18df4a,_0x48ecd0){_0x18df4a=_0x18df4a-0x1a1;var _0x341410=_0x198fe0[_0x18df4a];return _0x341410;},_0x18df(_0x4bb170,_0x30ff26);}csvData=extraHeaderRow+csvData;var rows=csvData[_0x5dd5d4(0x224)]()['split']('\x0a'),header=rows[0x0][_0x5dd5d4(0x1ae)](','),data=rows[_0x5dd5d4(0x243)](0x1)[_0x5dd5d4(0x257)](function(_0x271f76){var _0x38fab3=_0x5dd5d4;return _0x271f76['split'](',')[_0x38fab3(0x257)](function(_0x4602d9,_0x531bee){return _0x531bee>=0x3?parseFloat(_0x4602d9):_0x4602d9;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x5dd5d4(0x1b0)]-margin[_0x5dd5d4(0x1a4)],height=0x302-margin[_0x5dd5d4(0x218)]-margin[_0x5dd5d4(0x252)],leagueColors={'Premier\x20League':'rgba(255,\x200,\x200,\x200.7)','La\x20Liga':_0x5dd5d4(0x219),'Bundesliga':_0x5dd5d4(0x267),'Serie\x20A':'rgba(0,\x20128,\x200,\x200.7)','Ligue\x201':_0x5dd5d4(0x1b3),'Eredivisie':_0x5dd5d4(0x1f5),'Primeira\x20Liga':_0x5dd5d4(0x1c4)};function getLeagueColor(_0x508ea3){var _0x1dc2d2=_0x5dd5d4;return leagueColors[_0x508ea3]||_0x1dc2d2(0x23a);}function updateChartDimensions(){var _0x4348d7=_0x5dd5d4,_0x55a546=document[_0x4348d7(0x25e)]('.chart-wrapper')[_0x4348d7(0x209)],_0x3e58e4=window[_0x4348d7(0x20b)]*0.7,_0x348465=0x1e,_0x15fe7a=Math['min'](0x43a,_0x55a546-_0x348465*0x2),_0x5978c8=window[_0x4348d7(0x22f)]/window[_0x4348d7(0x20b)]<0x1;if(_0x5978c8){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x441f24=1.4,_0xc4d18d=Math[_0x4348d7(0x256)](_0x3e58e4,_0x15fe7a*_0x441f24);_0xc4d18d=Math[_0x4348d7(0x1f0)](_0xc4d18d,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x5063a=0.7,_0xc4d18d=_0x15fe7a*_0x5063a;}width=_0x15fe7a-margin[_0x4348d7(0x1b0)]-margin[_0x4348d7(0x1a4)],height=_0xc4d18d-margin[_0x4348d7(0x218)]-margin[_0x4348d7(0x252)],d3[_0x4348d7(0x206)](_0x4348d7(0x22b))[_0x4348d7(0x262)](_0x4348d7(0x26a),_0x15fe7a)[_0x4348d7(0x262)](_0x4348d7(0x216),_0xc4d18d),document[_0x4348d7(0x25e)](_0x4348d7(0x245))[_0x4348d7(0x1d5)][_0x4348d7(0x216)]=_0xc4d18d+'px';}function _0x198f(){var _0xa886fc=['.team-label-','transition','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','pointer','fontWeight','.xy-line-hover','filter','14px','resizeTimer','option','parentNode','innerHTML','remove','max','7ZBSLkr','<strong>','cursor','data-i18n','rgba(75,\x200,\x20130,\x200.7)','classed','GET','tooltip.xg-line-left','xG\x20per\x2090','className','none','mouseout','domain','includes','addEventListener','line','call','add','G\x20=\x20xG\x20Line','tooltip','4568730uRZqqA','select','change','active','clientWidth','normalize','innerHeight','input','select-all-tooltip','.team-label','transparent','div','6764709gSHRwx','forEach','text-anchor','toFixed','find','height','pct','top','rgba(255,\x20165,\x200,\x200.7)','pageY','axisLeft','name','replace','selectAll','.median-line','ion-ios-circle-outline','ion-ios-circle-filled','flex','x-axis','trim','value','link','marker#arrow-over,\x20marker#arrow-under','legend-color','marginRight','search-match','#scatter-plot','push','median','.xy-line-label-bg','innerWidth','hideMedianLines','search-dimmed','7393216zAhYlZ','league-legend','#333','transform','toLowerCase','1799946mhWThQ','stroke-dasharray','4581680niauZN','rgba(255,\x200,\x200,\x200.7)','classList','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','y-axis','#select-y','getBoundingClientRect','rotate(-90)','every','querySelectorAll','slice','https://datamb.football/database/TEAM/teamplots.csv','.chart-container','tooltip.xg-line-below','rgba(0,\x200,\x200,\x200.3)','pageX','size','1969XWifkI','.xy-line-label','308760cyxFmJ','resize','body','rgba(70,\x20130,\x20180,\x200.7)','Premier\x20League','tickSize','bottom','axisBottom','DOMContentLoaded','textContent','min','map','3eKVpWl','median-lines-tooltip','href','fill','display','Serie\x20A','querySelector','Top\x205\x20Leagues','currentTranslations','Ligue\x201','attr','range','y-label','font-weight','Hide\x20median\x20lines','rgba(255,\x20255,\x200,\x200.7)','187138fLTLrl','help','width','translate(0,','html','end','metrics.','metrics','font-family','all','enter','median-line','indexOf','circle','each','right','backgroundColor','stroke-width','createElement','append','#select-x','</span>','Show\x20median\x20lines','linearGradient#line-gradient','xy-line-hover','split','showMedianLines','left','apply','text','rgba(0,\x200,\x20255,\x200.7)','tooltip.xg-line-title','legend-item','font-size','.xy-line','15px','dark-mode','</span><br/>','Bundesliga','node','class','.position-btn','Select\x20all\x20teams','event','.performance-label','Inter,\x20sans-serif','scaleLinear','rgba(238,\x20130,\x20238,\x200.7)','</strong><br/>','property','team-label-','Goals\x20per\x2090','send','#000','data','getBBox','duration','<span>','appendChild','length','keys','La\x20Liga','9MaNYTr','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','style','.xy-line-bg','<br/>','mouseover','opacity','stroke','NFD','responseText','click','span','interrupt','Unselect\x20all\x20teams','select-league','getElementById'];_0x198f=function(){return _0xa886fc;};return _0x198f();}window['addEventListener'](_0x5dd5d4(0x24d),function(){var _0x601e8b=_0x5dd5d4;clearTimeout(window[_0x601e8b(0x1eb)]),window[_0x601e8b(0x1eb)]=setTimeout(function(){updateChartDimensions(),updateChart();},0xfa);}),updateChartDimensions();function debounce(_0x53447e,_0x3fd840){let _0x9083ba;return function(){const _0xf24cf0=this,_0x57b3aa=arguments;clearTimeout(_0x9083ba),_0x9083ba=setTimeout(function(){var _0x461c9d=_0x18df;_0x53447e[_0x461c9d(0x1b1)](_0xf24cf0,_0x57b3aa);},_0x3fd840);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x5dd5d4(0x20b)];window['addEventListener'](_0x5dd5d4(0x24d),debounce(function(){var _0x4e0637=_0x5dd5d4,_0x5b64b9=prevWindowWidth/prevWindowHeight<0x1,_0x197235=window['innerWidth']/window[_0x4e0637(0x20b)]<0x1;prevWindowWidth=window[_0x4e0637(0x22f)],prevWindowHeight=window['innerHeight'],updateChart();},0xfa));var medianLinesVisible=![],selectX=d3['select'](_0x5dd5d4(0x1a9)),selectY=d3[_0x5dd5d4(0x206)](_0x5dd5d4(0x23e)),names=data['map'](function(_0x43d55d){return _0x43d55d[0x1];});header[_0x5dd5d4(0x243)](0x3)[_0x5dd5d4(0x212)](function(_0x756ff2){var _0x1d0f70=_0x5dd5d4;selectX[_0x1d0f70(0x1a8)](_0x1d0f70(0x1ec))[_0x1d0f70(0x1b2)](_0x756ff2)[_0x1d0f70(0x262)](_0x1d0f70(0x225),_0x756ff2),selectY[_0x1d0f70(0x1a8)](_0x1d0f70(0x1ec))['text'](_0x756ff2)['attr'](_0x1d0f70(0x225),_0x756ff2);}),selectX[_0x5dd5d4(0x1c6)](_0x5dd5d4(0x225),header[0x3]),selectY[_0x5dd5d4(0x1c6)](_0x5dd5d4(0x225),header[0x4]);var svg=d3[_0x5dd5d4(0x206)](_0x5dd5d4(0x22b))['attr'](_0x5dd5d4(0x26a),width+margin[_0x5dd5d4(0x1b0)]+margin[_0x5dd5d4(0x1a4)])[_0x5dd5d4(0x262)](_0x5dd5d4(0x216),height+margin['top']+margin['bottom'])[_0x5dd5d4(0x1a8)]('g')['attr'](_0x5dd5d4(0x235),'translate('+margin[_0x5dd5d4(0x1b0)]+','+margin[_0x5dd5d4(0x218)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3['scaleLinear']()['range']([0x0,width]),yScale=d3[_0x5dd5d4(0x1c3)]()[_0x5dd5d4(0x263)]([height,0x0]),xAxis=d3[_0x5dd5d4(0x253)](xScale)[_0x5dd5d4(0x251)](0x0),yAxis=d3[_0x5dd5d4(0x21b)](yScale)['tickSize'](0x0),gXAxis=svg[_0x5dd5d4(0x1a8)]('g')['attr'](_0x5dd5d4(0x1bd),_0x5dd5d4(0x223))[_0x5dd5d4(0x262)](_0x5dd5d4(0x235),_0x5dd5d4(0x26b)+height+')'),gYAxis=svg[_0x5dd5d4(0x1a8)]('g')['attr']('class',_0x5dd5d4(0x23d)),xLabel=svg[_0x5dd5d4(0x1a8)](_0x5dd5d4(0x1b2))[_0x5dd5d4(0x262)](_0x5dd5d4(0x1bd),'x-label')[_0x5dd5d4(0x262)](_0x5dd5d4(0x213),_0x5dd5d4(0x26d))[_0x5dd5d4(0x262)]('x',width)[_0x5dd5d4(0x262)]('y',height+0x23)['style'](_0x5dd5d4(0x270),_0x5dd5d4(0x1c2))[_0x5dd5d4(0x1d5)](_0x5dd5d4(0x1b6),_0x5dd5d4(0x1ea)),yLabel=svg[_0x5dd5d4(0x1a8)]('text')[_0x5dd5d4(0x262)](_0x5dd5d4(0x1bd),_0x5dd5d4(0x264))[_0x5dd5d4(0x262)](_0x5dd5d4(0x213),_0x5dd5d4(0x26d))[_0x5dd5d4(0x262)](_0x5dd5d4(0x235),_0x5dd5d4(0x240))[_0x5dd5d4(0x262)]('y',-0x35)[_0x5dd5d4(0x262)]('x',0x0)[_0x5dd5d4(0x1d5)]('font-family',_0x5dd5d4(0x1c2))['style'](_0x5dd5d4(0x1b6),_0x5dd5d4(0x1ea)),tooltip=d3['select'](_0x5dd5d4(0x24e))[_0x5dd5d4(0x1a8)](_0x5dd5d4(0x210))['attr'](_0x5dd5d4(0x1bd),_0x5dd5d4(0x204));function isMobileDevice(){return window['innerWidth']<=0x300;}function positionTooltip(_0xd3f0e4,_0xa7918a){var _0x334f28=_0x5dd5d4;const _0x357f4c=_0xa7918a[_0x334f28(0x1bc)]();if(!_0x357f4c)return{'left':0x0,'top':0x0};const _0x51cbfd=_0x357f4c[_0x334f28(0x23f)](),_0x5389f9=window['innerWidth'],_0x31b053=window[_0x334f28(0x20b)];let _0x151934=_0xd3f0e4[_0x334f28(0x248)]+0xa,_0x139de8=_0xd3f0e4[_0x334f28(0x21a)]-0x1c;return _0x151934+_0x51cbfd[_0x334f28(0x26a)]>_0x5389f9-0xa&&(_0x151934=_0xd3f0e4['pageX']-_0x51cbfd[_0x334f28(0x26a)]-0xa),_0x139de8+_0x51cbfd[_0x334f28(0x216)]>_0x31b053-0xa&&(_0x139de8=_0xd3f0e4[_0x334f28(0x21a)]-_0x51cbfd[_0x334f28(0x216)]-0xa),_0x151934=Math[_0x334f28(0x1f0)](0xa,_0x151934),_0x139de8=Math['max'](0xa,_0x139de8),{'left':_0x151934,'top':_0x139de8};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x1521f6=_0x5dd5d4;updateChartDimensions(),d3[_0x1521f6(0x206)](_0x1521f6(0x22b))[_0x1521f6(0x262)](_0x1521f6(0x26a),width+margin[_0x1521f6(0x1b0)]+margin[_0x1521f6(0x1a4)])[_0x1521f6(0x262)](_0x1521f6(0x216),height+margin['top']+margin[_0x1521f6(0x252)]),gXAxis[_0x1521f6(0x262)](_0x1521f6(0x235),_0x1521f6(0x26b)+height+')'),xLabel[_0x1521f6(0x262)]('x',width)[_0x1521f6(0x262)]('y',height+0x23),yLabel[_0x1521f6(0x262)]('x',0x0);const _0x4f05c5=document[_0x1521f6(0x24e)][_0x1521f6(0x23b)]['contains'](_0x1521f6(0x1b9));var _0x317145=document[_0x1521f6(0x1e2)](_0x1521f6(0x1e1))['value'];if(_0x317145===_0x1521f6(0x271))filteredData=data;else _0x317145===_0x1521f6(0x25f)?filteredData=data[_0x1521f6(0x1e9)](function(_0x1f3cf7){var _0x194ee8=_0x1521f6;return _0x1f3cf7[0x2]===_0x194ee8(0x250)||_0x1f3cf7[0x2]===_0x194ee8(0x1d2)||_0x1f3cf7[0x2]===_0x194ee8(0x1bb)||_0x1f3cf7[0x2]===_0x194ee8(0x25d)||_0x1f3cf7[0x2]===_0x194ee8(0x261);}):filteredData=data[_0x1521f6(0x1e9)](function(_0x1cc553){return _0x1cc553[0x2]===_0x317145;});filteredNames=filteredData[_0x1521f6(0x257)](function(_0x46cb1c){return _0x46cb1c[0x1];}),xMetric=selectX[_0x1521f6(0x1c6)](_0x1521f6(0x225)),yMetric=selectY[_0x1521f6(0x1c6)](_0x1521f6(0x225)),xScale[_0x1521f6(0x263)]([0x0,width])[_0x1521f6(0x1fd)]((function(){var _0x424f4d=_0x1521f6;const _0x52c866=d3[_0x424f4d(0x256)](filteredData,_0x1da2a5=>_0x1da2a5[header[_0x424f4d(0x1a1)](xMetric)]),_0x5e85ef=d3['max'](filteredData,_0x4f8cf6=>_0x4f8cf6[header[_0x424f4d(0x1a1)](xMetric)]),_0x34fab9=_0x5e85ef-_0x52c866,_0x5d9efe=_0x34fab9*0.1;return[_0x52c866-_0x5d9efe,_0x5e85ef+_0x5d9efe];}())),yScale[_0x1521f6(0x263)]([height,0x0])[_0x1521f6(0x1fd)]((function(){var _0x2d65f9=_0x1521f6;const _0x27e8f2=d3['min'](filteredData,_0x1e80a2=>_0x1e80a2[header[_0x2d65f9(0x1a1)](yMetric)]),_0x2e0116=d3[_0x2d65f9(0x1f0)](filteredData,_0x1c9019=>_0x1c9019[header[_0x2d65f9(0x1a1)](yMetric)]),_0x54142f=_0x2e0116-_0x27e8f2,_0x2e0f0d=_0x54142f*0.1;return[_0x27e8f2-_0x2e0f0d,_0x2e0116+_0x2e0f0d];}())),gXAxis[_0x1521f6(0x201)](d3[_0x1521f6(0x253)](xScale)[_0x1521f6(0x251)](0x0)),gYAxis[_0x1521f6(0x201)](d3[_0x1521f6(0x21b)](yScale)[_0x1521f6(0x251)](0x0));const _0x3e105a=_0x1521f6(0x26e)+xMetric[_0x1521f6(0x236)]()[_0x1521f6(0x21d)](/ /g,'-')['replace'](/%/g,_0x1521f6(0x217)),_0x25aa23=_0x1521f6(0x26e)+yMetric[_0x1521f6(0x236)]()[_0x1521f6(0x21d)](/ /g,'-')[_0x1521f6(0x21d)](/%/g,_0x1521f6(0x217));xLabel[_0x1521f6(0x262)]('data-i18n',_0x3e105a),yLabel['attr'](_0x1521f6(0x1f4),_0x25aa23);if(window[_0x1521f6(0x260)]&&window['currentTranslations'][_0x1521f6(0x26f)]){const _0x917ec9=xMetric[_0x1521f6(0x236)]()[_0x1521f6(0x21d)](/ /g,'-')[_0x1521f6(0x21d)](/%/g,_0x1521f6(0x217)),_0x1c943d=yMetric[_0x1521f6(0x236)]()[_0x1521f6(0x21d)](/ /g,'-')[_0x1521f6(0x21d)](/%/g,_0x1521f6(0x217)),_0x5b4b2e=window[_0x1521f6(0x260)][_0x1521f6(0x26f)][_0x917ec9],_0x1620e1=window['currentTranslations'][_0x1521f6(0x26f)][_0x1c943d];xLabel[_0x1521f6(0x1b2)](_0x5b4b2e||xMetric),yLabel[_0x1521f6(0x1b2)](_0x1620e1||yMetric);}else xLabel[_0x1521f6(0x1b2)](xMetric),yLabel[_0x1521f6(0x1b2)](yMetric);svg[_0x1521f6(0x21e)](_0x1521f6(0x1a2))['remove'](),svg[_0x1521f6(0x21e)]('.team-label')[_0x1521f6(0x1ef)](),svg['selectAll'](_0x1521f6(0x1b7))[_0x1521f6(0x1ef)](),svg[_0x1521f6(0x21e)](_0x1521f6(0x1d6))[_0x1521f6(0x1ef)](),svg['selectAll'](_0x1521f6(0x24b))[_0x1521f6(0x1ef)](),svg[_0x1521f6(0x21e)](_0x1521f6(0x22e))['remove'](),svg['selectAll'](_0x1521f6(0x1c1))[_0x1521f6(0x1ef)](),svg['selectAll'](_0x1521f6(0x1ac))['remove'](),svg['selectAll'](_0x1521f6(0x227))[_0x1521f6(0x1ef)](),svg[_0x1521f6(0x21e)](_0x1521f6(0x1e8))['remove'](),svg[_0x1521f6(0x21e)](_0x1521f6(0x21f))[_0x1521f6(0x1ef)]();if(xMetric===_0x1521f6(0x1f9)&&yMetric==='Goals\x20per\x2090'||xMetric===_0x1521f6(0x1c8)&&yMetric===_0x1521f6(0x1f9)){var _0x4e0556=null,_0x3afbd6=d3['min'](filteredData,function(_0x346ca6){var _0x429cdc=_0x1521f6;return _0x346ca6[header[_0x429cdc(0x1a1)](xMetric)];}),_0x22090f=d3[_0x1521f6(0x1f0)](filteredData,function(_0x1779b0){var _0x536b26=_0x1521f6;return _0x1779b0[header[_0x536b26(0x1a1)](xMetric)];}),_0x35d4ff=d3['min'](filteredData,function(_0x38cee0){return _0x38cee0[header['indexOf'](yMetric)];}),_0x476397=d3['max'](filteredData,function(_0x2add28){return _0x2add28[header['indexOf'](yMetric)];}),_0x549ebc=Math['min'](_0x22090f,_0x476397),_0x515f2e=Math['max'](_0x3afbd6,_0x35d4ff);svg[_0x1521f6(0x1a8)]('line')['attr'](_0x1521f6(0x1bd),'xy-line')[_0x1521f6(0x262)]('x1',xScale(_0x515f2e))[_0x1521f6(0x262)]('y1',yScale(_0x515f2e))['attr']('x2',xScale(_0x549ebc))[_0x1521f6(0x262)]('y2',yScale(_0x549ebc))[_0x1521f6(0x1d5)](_0x1521f6(0x1da),'#2ecc71')['style'](_0x1521f6(0x1a6),'2')['style'](_0x1521f6(0x238),'5,3'),svg[_0x1521f6(0x1a8)](_0x1521f6(0x200))[_0x1521f6(0x262)](_0x1521f6(0x1bd),_0x1521f6(0x1ad))[_0x1521f6(0x262)]('x1',xScale(_0x515f2e))[_0x1521f6(0x262)]('y1',yScale(_0x515f2e))[_0x1521f6(0x262)]('x2',xScale(_0x549ebc))['attr']('y2',yScale(_0x549ebc))[_0x1521f6(0x1d5)](_0x1521f6(0x1da),_0x1521f6(0x20f))[_0x1521f6(0x1d5)]('stroke-width','15')['style'](_0x1521f6(0x1f3),_0x1521f6(0x269))['on'](_0x1521f6(0x1d8),function(){var _0x26d3e3=_0x1521f6;_0x4e0556&&clearTimeout(_0x4e0556);var _0x25a146=d3[_0x26d3e3(0x1c0)][_0x26d3e3(0x248)],_0x47e97f=d3[_0x26d3e3(0x1c0)][_0x26d3e3(0x21a)];_0x4e0556=setTimeout(function(){var _0x332db0=_0x26d3e3;tooltip['transition']()[_0x332db0(0x1cd)](0xc8)[_0x332db0(0x1d5)]('opacity',0.9);var _0x3539c8='<strong>'+getTranslation(_0x332db0(0x1b4),_0x332db0(0x203))+'</strong><br/>';xMetric===_0x332db0(0x1f9)&&yMetric==='Goals\x20per\x2090'?_0x3539c8+='<span>'+getTranslation('tooltip.xg-line-above','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+'</span><br/>'+'<span>'+getTranslation(_0x332db0(0x246),_0x332db0(0x23c))+_0x332db0(0x1aa):_0x3539c8+=_0x332db0(0x1ce)+getTranslation('tooltip.xg-line-right',_0x332db0(0x1d4))+_0x332db0(0x1ba)+_0x332db0(0x1ce)+getTranslation(_0x332db0(0x1f8),_0x332db0(0x1e5))+'</span>',tooltip[_0x332db0(0x26c)](_0x3539c8)[_0x332db0(0x1d5)](_0x332db0(0x1b0),_0x25a146+0xa+'px')['style']('top',_0x47e97f-0x1c+'px');},0x258);})['on'](_0x1521f6(0x1fc),function(){_0x4e0556&&(clearTimeout(_0x4e0556),_0x4e0556=null),tooltip['transition']()['duration'](0x1f4)['style']('opacity',0x0);});}if(medianLinesVisible){var _0x56e2a9=d3[_0x1521f6(0x22d)](filteredData,function(_0x15f456){var _0xbde07f=_0x1521f6;return _0x15f456[header[_0xbde07f(0x1a1)](xMetric)];}),_0x2dd3ab=d3[_0x1521f6(0x22d)](filteredData,function(_0x34f834){var _0x48e477=_0x1521f6;return _0x34f834[header[_0x48e477(0x1a1)](yMetric)];});svg[_0x1521f6(0x1a8)](_0x1521f6(0x200))['attr'](_0x1521f6(0x1bd),_0x1521f6(0x273))['attr']('x1',xScale(_0x56e2a9))[_0x1521f6(0x262)]('y1',0x0)[_0x1521f6(0x262)]('x2',xScale(_0x56e2a9))['attr']('y2',height)[_0x1521f6(0x1d5)](_0x1521f6(0x1da),_0x1521f6(0x247))[_0x1521f6(0x1d5)](_0x1521f6(0x238),'4'),svg[_0x1521f6(0x1a8)](_0x1521f6(0x200))[_0x1521f6(0x262)](_0x1521f6(0x1bd),_0x1521f6(0x273))[_0x1521f6(0x262)]('x1',0x0)[_0x1521f6(0x262)]('y1',yScale(_0x2dd3ab))[_0x1521f6(0x262)]('x2',width)[_0x1521f6(0x262)]('y2',yScale(_0x2dd3ab))[_0x1521f6(0x1d5)](_0x1521f6(0x1da),_0x1521f6(0x247))[_0x1521f6(0x1d5)](_0x1521f6(0x238),'4');}circles=svg[_0x1521f6(0x21e)](_0x1521f6(0x1a2))[_0x1521f6(0x1cb)](filteredData)[_0x1521f6(0x272)]()['append'](_0x1521f6(0x1a2))[_0x1521f6(0x262)]('cx',function(_0xefd30f){var _0x2239e5=_0x1521f6;return xScale(_0xefd30f[header[_0x2239e5(0x1a1)](xMetric)]);})['attr']('cy',function(_0x1908ff){var _0x56ba75=_0x1521f6;return yScale(_0x1908ff[header[_0x56ba75(0x1a1)](yMetric)]);})[_0x1521f6(0x262)]('r',0x8)[_0x1521f6(0x1d5)]('fill',function(_0x2834ee){var _0x421a7c=_0x1521f6;if(clickedCircles[_0x421a7c(0x1fe)](_0x2834ee[0x1]))return getLeagueColor(_0x2834ee[0x2]);return _0x421a7c(0x24f);})[_0x1521f6(0x1d5)](_0x1521f6(0x1da),function(_0x5b0a87){var _0x48a58a=_0x1521f6;return clickedCircles['includes'](_0x5b0a87[0x1])?_0x48a58a(0x1ca):'none';})[_0x1521f6(0x1d5)]('stroke-width',function(_0x1908b8){var _0x29c692=_0x1521f6;return clickedCircles[_0x29c692(0x1fe)](_0x1908b8[0x1])?0x2:0x0;})[_0x1521f6(0x1d5)](_0x1521f6(0x1f3),_0x1521f6(0x1e6))['on'](_0x1521f6(0x1d8),function(_0x436c33){var _0x22b9d3=_0x1521f6;d3[_0x22b9d3(0x206)](this)['transition']()[_0x22b9d3(0x1cd)](0xc8)['attr']('r',0xa)[_0x22b9d3(0x1d5)](_0x22b9d3(0x25b),getLeagueColor(_0x436c33[0x2])),tooltip[_0x22b9d3(0x1e4)]()['duration'](0xc8)['style'](_0x22b9d3(0x1d9),0.9);const _0x1b7290=_0x22b9d3(0x26e)+xMetric[_0x22b9d3(0x236)]()[_0x22b9d3(0x21d)](/ /g,'-')[_0x22b9d3(0x21d)](/%/g,'pct'),_0x40ad1f=_0x22b9d3(0x26e)+yMetric['toLowerCase']()[_0x22b9d3(0x21d)](/ /g,'-')[_0x22b9d3(0x21d)](/%/g,_0x22b9d3(0x217)),_0x238658=getTranslation(_0x1b7290,xMetric),_0x3c0ee2=getTranslation(_0x40ad1f,yMetric);tooltip[_0x22b9d3(0x26c)](_0x22b9d3(0x1f2)+_0x436c33[0x1]+_0x22b9d3(0x1c5)+_0x238658+':\x20'+_0x436c33[header[_0x22b9d3(0x1a1)](xMetric)]['toFixed'](0x2)+_0x22b9d3(0x1d7)+_0x3c0ee2+':\x20'+_0x436c33[header[_0x22b9d3(0x1a1)](yMetric)][_0x22b9d3(0x214)](0x2));const _0xfa9282=tooltip[_0x22b9d3(0x1bc)]();if(_0xfa9282){const _0x1d6320=_0xfa9282[_0x22b9d3(0x23f)](),_0xe16638=window[_0x22b9d3(0x22f)],_0xb7f61a=window[_0x22b9d3(0x20b)];let _0x6c1098=d3['event'][_0x22b9d3(0x248)]+0xa,_0x40e885=d3['event']['pageY']-0x1c;_0x6c1098+_0x1d6320[_0x22b9d3(0x26a)]>_0xe16638-0xa&&(_0x6c1098=d3['event'][_0x22b9d3(0x248)]-_0x1d6320[_0x22b9d3(0x26a)]-0xa),_0x40e885+_0x1d6320[_0x22b9d3(0x216)]>_0xb7f61a-0xa&&(_0x40e885=d3['event'][_0x22b9d3(0x21a)]-_0x1d6320[_0x22b9d3(0x216)]-0xa),_0x6c1098=Math['max'](0xa,_0x6c1098),_0x40e885=Math[_0x22b9d3(0x1f0)](0xa,_0x40e885),tooltip[_0x22b9d3(0x1d5)](_0x22b9d3(0x1b0),_0x6c1098+'px')[_0x22b9d3(0x1d5)]('top',_0x40e885+'px');}else tooltip[_0x22b9d3(0x1d5)](_0x22b9d3(0x1b0),d3[_0x22b9d3(0x1c0)]['pageX']+0xa+'px')[_0x22b9d3(0x1d5)]('top',d3[_0x22b9d3(0x1c0)][_0x22b9d3(0x21a)]-0x1c+'px');window[_0x22b9d3(0x22f)]<=0x300&&setTimeout(function(){var _0x26894e=_0x22b9d3;tooltip[_0x26894e(0x1e4)]()['duration'](0xc8)[_0x26894e(0x1d5)](_0x26894e(0x1d9),0x0);},0x3e8);})['on'](_0x1521f6(0x1fc),function(_0x1a020a){var _0x3942b7=_0x1521f6;window[_0x3942b7(0x22f)]>0x300&&tooltip[_0x3942b7(0x1e4)]()[_0x3942b7(0x1cd)](0x1f4)[_0x3942b7(0x1d5)](_0x3942b7(0x1d9),0x0);var _0x40c2fd=clickedCircles[_0x3942b7(0x1fe)](_0x1a020a[0x1]);d3[_0x3942b7(0x206)](this)[_0x3942b7(0x1e4)]()[_0x3942b7(0x1cd)](0xc8)[_0x3942b7(0x262)]('r',0x8)[_0x3942b7(0x1d5)](_0x3942b7(0x25b),function(){return _0x40c2fd?getLeagueColor(_0x1a020a[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';});})['on']('click',function(_0x21ea90){var _0x409d86=_0x1521f6,_0x1473c9=d3[_0x409d86(0x206)](this)['classed'](_0x409d86(0x22a));_0x1473c9&&resetSearch();var _0x18c107=clickedCircles[_0x409d86(0x1a1)](_0x21ea90[0x1]);_0x18c107===-0x1?(clickedCircles['push'](_0x21ea90[0x1]),d3[_0x409d86(0x206)](this)[_0x409d86(0x1d5)](_0x409d86(0x25b),getLeagueColor(_0x21ea90[0x2]))[_0x409d86(0x1d5)](_0x409d86(0x1da),_0x409d86(0x1ca))['style'](_0x409d86(0x1a6),0x2),addTeamLabel(_0x21ea90)):(clickedCircles['splice'](_0x18c107,0x1),d3['select'](this)['style']('fill','rgba(70,\x20130,\x20180,\x200.7)')[_0x409d86(0x1d5)](_0x409d86(0x1da),_0x409d86(0x1fb)),svg[_0x409d86(0x21e)](_0x409d86(0x1e3)+_0x21ea90[0x1][_0x409d86(0x21d)](/\s+/g,'-')['toLowerCase']())['remove']());updateSelectAllButtonText();var _0x38ed9b=document[_0x409d86(0x1e2)]('select-league')[_0x409d86(0x225)];updateLeagueLegend(_0x38ed9b);}),clickedCircles[_0x1521f6(0x212)](function(_0x4aa6b5){var _0x222f99=filteredData['find'](function(_0x2392fa){return _0x2392fa[0x1]===_0x4aa6b5;});_0x222f99&&addTeamLabel(_0x222f99);}),updateSelectAllButtonText(),updateLeagueLegend(_0x317145);}function updateSelectAllButtonText(){var _0x4311bf=_0x5dd5d4,_0x5b61d6=document[_0x4311bf(0x1e2)]('select-icon'),_0x521c8d=document['getElementById'](_0x4311bf(0x20d)),_0xc38c43=filteredData['every'](function(_0x4fdfca){var _0x4f4b5b=_0x4311bf;return clickedCircles[_0x4f4b5b(0x1fe)](_0x4fdfca[0x1]);});_0xc38c43?(_0x5b61d6['className']=_0x4311bf(0x220),_0x521c8d&&(window[_0x4311bf(0x260)]&&window[_0x4311bf(0x260)][_0x4311bf(0x204)]?_0x521c8d['textContent']=window[_0x4311bf(0x260)][_0x4311bf(0x204)]['unselectAll']||_0x4311bf(0x1e0):_0x521c8d['textContent']=_0x4311bf(0x1e0))):(_0x5b61d6[_0x4311bf(0x1fa)]=_0x4311bf(0x221),_0x521c8d&&(window[_0x4311bf(0x260)]&&window[_0x4311bf(0x260)]['tooltip']?_0x521c8d[_0x4311bf(0x255)]=window['currentTranslations'][_0x4311bf(0x204)][_0x4311bf(0x21e)]||_0x4311bf(0x1bf):_0x521c8d[_0x4311bf(0x255)]=_0x4311bf(0x1bf)));}selectX['on'](_0x5dd5d4(0x207),updateChart),selectY['on'](_0x5dd5d4(0x207),updateChart);function removeSpecialCharsAndDiacritics(_0x5e4175){var _0x308840=_0x5dd5d4;if(!_0x5e4175)return'';return _0x5e4175[_0x308840(0x20a)](_0x308840(0x1db))[_0x308840(0x21d)](/[\u0300-\u036f]/g,'')['replace'](/Ø/g,'O')[_0x308840(0x21d)](/ø/g,'o');}var searchBar=document[_0x5dd5d4(0x1e2)]('search-bar');searchBar[_0x5dd5d4(0x1ff)](_0x5dd5d4(0x20c),function(){var _0x339fc5=_0x5dd5d4,_0x592f19=searchBar[_0x339fc5(0x225)][_0x339fc5(0x236)]();if(_0x592f19===''){resetSearch();return;}var _0x542ad8=removeSpecialCharsAndDiacritics(_0x592f19);svg['selectAll'](_0x339fc5(0x1a2))[_0x339fc5(0x1f6)](_0x339fc5(0x22a),![])[_0x339fc5(0x1d5)](_0x339fc5(0x25b),function(_0x494a60){var _0x270254=_0x339fc5;return clickedCircles['includes'](_0x494a60[0x1])?getLeagueColor(_0x494a60[0x2]):_0x270254(0x24f);})[_0x339fc5(0x1d5)](_0x339fc5(0x1da),function(_0x43221f){var _0x7369d1=_0x339fc5;return clickedCircles[_0x7369d1(0x1fe)](_0x43221f[0x1])?'#000':_0x7369d1(0x1fb);})[_0x339fc5(0x1d5)](_0x339fc5(0x1a6),function(_0x5f2b0b){var _0xad268a=_0x339fc5;return clickedCircles[_0xad268a(0x1fe)](_0x5f2b0b[0x1])?0x2:0x0;})[_0x339fc5(0x1d5)]('filter',_0x339fc5(0x1fb))[_0x339fc5(0x1a3)](function(){d3['select'](this)['style']('r',null);}),svg[_0x339fc5(0x21e)](_0x339fc5(0x20e))[_0x339fc5(0x1f6)]('search-match',![])[_0x339fc5(0x1f6)](_0x339fc5(0x231),![]);var _0x262c84=[];svg[_0x339fc5(0x21e)](_0x339fc5(0x1a2))[_0x339fc5(0x1e9)](function(_0x3a570b){var _0x22840a=_0x339fc5,_0xb59577=_0x3a570b[0x1]['toLowerCase'](),_0x32b0b8=removeSpecialCharsAndDiacritics(_0xb59577),_0x231051=_0xb59577[_0x22840a(0x1fe)](_0x592f19)||_0x32b0b8[_0x22840a(0x1fe)](_0x542ad8);return _0x231051&&_0x262c84[_0x22840a(0x22c)](_0x3a570b[0x1]),_0x231051;})[_0x339fc5(0x1f6)](_0x339fc5(0x22a),!![])[_0x339fc5(0x1a3)](function(){var _0x4e4990=_0x339fc5;this[_0x4e4990(0x1ed)]['appendChild'](this);}),_0x262c84[_0x339fc5(0x1d0)]>0x0?(svg['selectAll'](_0x339fc5(0x20e))[_0x339fc5(0x1f6)](_0x339fc5(0x231),!![]),svg['selectAll'](_0x339fc5(0x20e))[_0x339fc5(0x1e9)](function(){var _0x494944=_0x339fc5,_0x339978=d3[_0x494944(0x206)](this)[_0x494944(0x1b2)]();return _0x262c84[_0x494944(0x1fe)](_0x339978);})[_0x339fc5(0x1f6)](_0x339fc5(0x22a),!![])[_0x339fc5(0x1f6)](_0x339fc5(0x231),![])[_0x339fc5(0x1a3)](function(){var _0x3f6c6f=_0x339fc5;this[_0x3f6c6f(0x1ed)][_0x3f6c6f(0x1cf)](this);}),_0x262c84[_0x339fc5(0x212)](function(_0x3a2cb0){var _0x23d9fb=_0x339fc5,_0x54e671='team-label-'+_0x3a2cb0['replace'](/\s+/g,'-')['toLowerCase']();if(svg[_0x23d9fb(0x206)]('.'+_0x54e671)['size']()===0x0){var _0x56a16f=filteredData[_0x23d9fb(0x215)](function(_0x25eeff){return _0x25eeff[0x1]===_0x3a2cb0;});_0x56a16f&&(addTeamLabel(_0x56a16f),svg[_0x23d9fb(0x206)]('.'+_0x54e671)[_0x23d9fb(0x1f6)](_0x23d9fb(0x22a),!![]));}})):(svg[_0x339fc5(0x21e)](_0x339fc5(0x20e))[_0x339fc5(0x1a3)](function(){var _0x557f05=_0x339fc5,_0x502c07=d3['select'](this),_0x20504f=_0x502c07[_0x557f05(0x1b2)]();!clickedCircles['includes'](_0x20504f)&&_0x502c07[_0x557f05(0x1ef)]();}),svg[_0x339fc5(0x21e)](_0x339fc5(0x1a2))['style']('fill',function(_0x50c03b){var _0x5e199a=_0x339fc5;return clickedCircles[_0x5e199a(0x1fe)](_0x50c03b[0x1])?getLeagueColor(_0x50c03b[0x2]):_0x5e199a(0x24f);})[_0x339fc5(0x1d5)](_0x339fc5(0x1da),function(_0xcbacf7){var _0x2d7c31=_0x339fc5;return clickedCircles[_0x2d7c31(0x1fe)](_0xcbacf7[0x1])?'#000':'none';})[_0x339fc5(0x1d5)](_0x339fc5(0x1a6),function(_0x4b6148){var _0x52957c=_0x339fc5;return clickedCircles[_0x52957c(0x1fe)](_0x4b6148[0x1])?0x2:0x0;}));});function resetSearch(){var _0x3cef82=_0x5dd5d4;searchBar[_0x3cef82(0x225)]='',svg[_0x3cef82(0x21e)](_0x3cef82(0x1a2))['classed']('search-match',![])[_0x3cef82(0x1d5)]('fill',function(_0x4a73af){var _0x211b20=_0x3cef82;return clickedCircles[_0x211b20(0x1fe)](_0x4a73af[0x1])?getLeagueColor(_0x4a73af[0x2]):_0x211b20(0x24f);})[_0x3cef82(0x1d5)](_0x3cef82(0x1da),function(_0x43a147){var _0x4faa5d=_0x3cef82;return clickedCircles[_0x4faa5d(0x1fe)](_0x43a147[0x1])?_0x4faa5d(0x1ca):_0x4faa5d(0x1fb);})[_0x3cef82(0x1d5)](_0x3cef82(0x1a6),function(_0x5f0150){var _0x1ee5ca=_0x3cef82;return clickedCircles[_0x1ee5ca(0x1fe)](_0x5f0150[0x1])?0x2:0x0;})[_0x3cef82(0x1d5)](_0x3cef82(0x1e9),_0x3cef82(0x1fb))[_0x3cef82(0x1a3)](function(){var _0x69373a=_0x3cef82;d3[_0x69373a(0x206)](this)[_0x69373a(0x1d5)]('r',null),d3[_0x69373a(0x206)](this)[_0x69373a(0x1df)]();}),svg['selectAll'](_0x3cef82(0x20e))[_0x3cef82(0x1f6)](_0x3cef82(0x22a),![])[_0x3cef82(0x1f6)](_0x3cef82(0x231),![])[_0x3cef82(0x1a3)](function(){var _0x2fe852=_0x3cef82;d3['select'](this)[_0x2fe852(0x1df)]();}),svg[_0x3cef82(0x21e)]('.team-label')['each'](function(){var _0x165619=_0x3cef82,_0x56a62d=d3[_0x165619(0x206)](this),_0xcd8586=_0x56a62d[_0x165619(0x1b2)]();!clickedCircles['includes'](_0xcd8586)&&_0x56a62d[_0x165619(0x1ef)]();});}var toggleButton=document[_0x5dd5d4(0x1e2)]('toggle-median-lines');toggleButton['addEventListener'](_0x5dd5d4(0x1dd),function(){var _0x5cee0f=_0x5dd5d4;medianLinesVisible=!medianLinesVisible,updateChart();const _0x27b42f=document[_0x5cee0f(0x1e2)](_0x5cee0f(0x259));window['currentTranslations']&&window['currentTranslations'][_0x5cee0f(0x204)]?_0x27b42f['textContent']=medianLinesVisible?window[_0x5cee0f(0x260)]['tooltip'][_0x5cee0f(0x230)]||'Hide\x20median\x20lines':window[_0x5cee0f(0x260)]['tooltip'][_0x5cee0f(0x1af)]||_0x5cee0f(0x1ab):_0x27b42f[_0x5cee0f(0x255)]=medianLinesVisible?_0x5cee0f(0x266):'Show\x20median\x20lines';});function selectAllCircles(){var _0x34c5b7=_0x5dd5d4,_0x32fc3c=filteredData[_0x34c5b7(0x241)](function(_0x379971){var _0x3433d6=_0x34c5b7;return clickedCircles[_0x3433d6(0x1fe)](_0x379971[0x1]);});_0x32fc3c?(clickedCircles=[],svg['selectAll'](_0x34c5b7(0x1a2))[_0x34c5b7(0x1d5)](_0x34c5b7(0x25b),_0x34c5b7(0x24f))['style'](_0x34c5b7(0x1da),_0x34c5b7(0x1fb)),svg[_0x34c5b7(0x21e)](_0x34c5b7(0x20e))[_0x34c5b7(0x1ef)]()):(svg[_0x34c5b7(0x21e)](_0x34c5b7(0x1a2))['each'](function(_0x277d19){var _0x1d35c8=_0x34c5b7;!clickedCircles[_0x1d35c8(0x1fe)](_0x277d19[0x1])&&(clickedCircles[_0x1d35c8(0x22c)](_0x277d19[0x1]),d3[_0x1d35c8(0x206)](this)['style']('fill',getLeagueColor(_0x277d19[0x2]))['style'](_0x1d35c8(0x1da),_0x1d35c8(0x1ca))[_0x1d35c8(0x1d5)]('stroke-width',0x2));}),filteredData[_0x34c5b7(0x212)](function(_0x1e613c){addTeamLabel(_0x1e613c);}));updateSelectAllButtonText();var _0x372b9a=document['getElementById']('select-league')[_0x34c5b7(0x225)];updateLeagueLegend(_0x372b9a);}document[_0x5dd5d4(0x242)](_0x5dd5d4(0x1be))[_0x5dd5d4(0x212)](_0x199732=>{var _0x3c9f8c=_0x5dd5d4;_0x199732[_0x3c9f8c(0x1ff)](_0x3c9f8c(0x1dd),function(){var _0x14b337=_0x3c9f8c;document[_0x14b337(0x242)](_0x14b337(0x1be))[_0x14b337(0x212)](_0x155355=>_0x155355['classList']['remove'](_0x14b337(0x208))),this[_0x14b337(0x23b)][_0x14b337(0x202)](_0x14b337(0x208)),updateChart();});}),updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x3d0775){var _0x18d1bc=_0x5dd5d4,_0x519b6e=document['getElementById'](_0x18d1bc(0x233));if(_0x3d0775!==_0x18d1bc(0x271)&&_0x3d0775!==_0x18d1bc(0x25f)){_0x519b6e[_0x18d1bc(0x1d5)]['display']=_0x18d1bc(0x1fb);return;}if(clickedCircles['length']===0x0){_0x519b6e[_0x18d1bc(0x1d5)]['display']='none';return;}_0x519b6e[_0x18d1bc(0x1d5)][_0x18d1bc(0x25c)]=_0x18d1bc(0x222),_0x519b6e[_0x18d1bc(0x1ee)]='';var _0x33808f=document['createElement'](_0x18d1bc(0x210));_0x33808f[_0x18d1bc(0x1d5)][_0x18d1bc(0x1e7)]='bold',_0x33808f[_0x18d1bc(0x1d5)][_0x18d1bc(0x229)]=_0x18d1bc(0x1b8),_0x519b6e['appendChild'](_0x33808f);var _0x53d7f6=[];if(_0x3d0775===_0x18d1bc(0x271))_0x53d7f6=Object[_0x18d1bc(0x1d1)](leagueColors);else _0x3d0775==='Top\x205\x20Leagues'&&(_0x53d7f6=[_0x18d1bc(0x250),_0x18d1bc(0x1d2),_0x18d1bc(0x1bb),'Serie\x20A','Ligue\x201']);_0x53d7f6[_0x18d1bc(0x212)](function(_0x5f4b1e){var _0x3ac862=_0x18d1bc,_0x1d79bb=document['createElement'](_0x3ac862(0x210));_0x1d79bb[_0x3ac862(0x1fa)]=_0x3ac862(0x1b5);var _0xf397ca=document['createElement'](_0x3ac862(0x210));_0xf397ca[_0x3ac862(0x1fa)]=_0x3ac862(0x228),_0xf397ca[_0x3ac862(0x1d5)][_0x3ac862(0x1a5)]=leagueColors[_0x5f4b1e];var _0x1984be=document['createElement'](_0x3ac862(0x1de));_0x1984be[_0x3ac862(0x255)]=_0x5f4b1e,_0x1d79bb[_0x3ac862(0x1cf)](_0xf397ca),_0x1d79bb[_0x3ac862(0x1cf)](_0x1984be),_0x519b6e['appendChild'](_0x1d79bb);});}const data1=dataLines[_0x5dd5d4(0x257)](_0x5506bf=>{var _0x36a508=_0x5dd5d4;const [_0x20e05,_0x4ccadb]=_0x5506bf[_0x36a508(0x1ae)](',');return{'name':_0x20e05,'link':_0x4ccadb};});function search2(_0x5ed44b){var _0x41b4f8=_0x5dd5d4;autocompleteBox[_0x41b4f8(0x1ee)]='';const _0x224943=_0x5ed44b[_0x41b4f8(0x236)](),_0x453c2c=data1[_0x41b4f8(0x1e9)](_0x485da9=>{var _0x28e1a9=_0x41b4f8;const _0x434a3e=_0x485da9['name']?_0x485da9[_0x28e1a9(0x21c)][_0x28e1a9(0x236)]():'';return _0x434a3e[_0x28e1a9(0x1fe)](_0x224943);});if(_0x453c2c[_0x41b4f8(0x1d0)]===0x0){autocompleteBox[_0x41b4f8(0x1d5)]['display']='none';return;}_0x453c2c[_0x41b4f8(0x212)](_0x252adb=>{var _0x58a2fe=_0x41b4f8;if(_0x252adb[_0x58a2fe(0x21c)]&&_0x252adb[_0x58a2fe(0x226)]){const _0x4967d4=document[_0x58a2fe(0x1a7)](_0x58a2fe(0x210)),_0x17b1db=document[_0x58a2fe(0x1a7)]('a');_0x17b1db[_0x58a2fe(0x25a)]=_0x252adb['link'],_0x17b1db[_0x58a2fe(0x255)]=_0x252adb['name'],_0x4967d4['appendChild'](_0x17b1db),autocompleteBox['appendChild'](_0x4967d4);}}),autocompleteBox['style'][_0x41b4f8(0x25c)]='block';}searchInput[_0x5dd5d4(0x1ff)]('input',()=>{var _0x48c200=_0x5dd5d4;const _0x387856=searchInput[_0x48c200(0x225)];_0x387856[_0x48c200(0x224)]()===''?autocompleteBox[_0x48c200(0x1d5)][_0x48c200(0x25c)]=_0x48c200(0x1fb):search2(_0x387856);});function addTeamLabel(_0x371644){var _0x94e03=_0x5dd5d4,_0xb6a8b5=xScale(_0x371644[header[_0x94e03(0x1a1)](xMetric)]),_0xb9f9df=yScale(_0x371644[header[_0x94e03(0x1a1)](yMetric)]),_0x53c22b=_0x94e03(0x1c7)+_0x371644[0x1][_0x94e03(0x21d)](/\s+/g,'-')[_0x94e03(0x236)]();if(svg['select']('.'+_0x53c22b)[_0x94e03(0x249)]()>0x0)return;var _0x10ead3=svg['append']('text')['attr']('class','team-label\x20'+_0x53c22b)[_0x94e03(0x262)]('x',_0xb6a8b5+0xc)['attr']('y',_0xb9f9df+0x4)[_0x94e03(0x1b2)](_0x371644[0x1])[_0x94e03(0x1d5)](_0x94e03(0x270),_0x94e03(0x1c2))['style'](_0x94e03(0x1b6),'12px')[_0x94e03(0x1d5)](_0x94e03(0x265),'500')[_0x94e03(0x1d5)](_0x94e03(0x25b),_0x94e03(0x234));positionLabelToAvoidOverlap(_0x10ead3,_0xb6a8b5,_0xb9f9df);}function positionLabelToAvoidOverlap(_0x5ea847,_0x4a9343,_0x384a09){var _0x1a8990=_0x5dd5d4,_0x461be0=svg[_0x1a8990(0x21e)](_0x1a8990(0x20e))[_0x1a8990(0x1e9)](function(){var _0x415e36=_0x1a8990;return this!==_0x5ea847[_0x415e36(0x1bc)]();}),_0xfc90d8=_0x5ea847[_0x1a8990(0x1bc)]()['getBBox'](),_0xb06d19=[{'x':_0x4a9343+0xc,'y':_0x384a09+0x4},{'x':_0x4a9343+0xc,'y':_0x384a09-0xa},{'x':_0x4a9343+0xc,'y':_0x384a09+0x12},{'x':_0x4a9343-_0xfc90d8[_0x1a8990(0x26a)]-0x5,'y':_0x384a09+0x4},{'x':_0x4a9343-_0xfc90d8['width']-0x5,'y':_0x384a09-0xa},{'x':_0x4a9343-_0xfc90d8['width']-0x5,'y':_0x384a09+0x12},{'x':_0x4a9343-_0xfc90d8[_0x1a8990(0x26a)]/0x2,'y':_0x384a09-0xf},{'x':_0x4a9343-_0xfc90d8[_0x1a8990(0x26a)]/0x2,'y':_0x384a09+0x19}],_0x2859a9=findPositionWithoutOverlap(_0xb06d19,_0x461be0,_0xfc90d8);_0x5ea847[_0x1a8990(0x262)]('x',_0x2859a9['x'])[_0x1a8990(0x262)]('y',_0x2859a9['y']);}function findPositionWithoutOverlap(_0x350b77,_0x5cd7f0,_0x81319d){var _0x5760d0=_0x5dd5d4;for(var _0x5aa5a3=0x0;_0x5aa5a3<_0x350b77[_0x5760d0(0x1d0)];_0x5aa5a3++){var _0x5e2e2f=_0x350b77[_0x5aa5a3],_0x17f7b4=![],_0x9b79b4={'x1':_0x5e2e2f['x'],'y1':_0x5e2e2f['y']-_0x81319d[_0x5760d0(0x216)],'x2':_0x5e2e2f['x']+_0x81319d[_0x5760d0(0x26a)],'y2':_0x5e2e2f['y']+0x5};if(_0x9b79b4['x1']<0x0||_0x9b79b4['x2']>width||_0x9b79b4['y1']<0x0||_0x9b79b4['y2']>height)continue;_0x5cd7f0['each'](function(){var _0x4be630=_0x5760d0,_0x3ac95e=d3['select'](this)[_0x4be630(0x1bc)]()[_0x4be630(0x1cc)](),_0x3cb41e=parseFloat(d3[_0x4be630(0x206)](this)[_0x4be630(0x262)]('x')),_0x1c6c01=parseFloat(d3[_0x4be630(0x206)](this)[_0x4be630(0x262)]('y')),_0x29671c={'x1':_0x3cb41e,'y1':_0x1c6c01-_0x3ac95e[_0x4be630(0x216)],'x2':_0x3cb41e+_0x3ac95e['width'],'y2':_0x1c6c01+0x5};!(_0x9b79b4['x2']<_0x29671c['x1']||_0x9b79b4['x1']>_0x29671c['x2']||_0x9b79b4['y2']<_0x29671c['y1']||_0x9b79b4['y1']>_0x29671c['y2'])&&(_0x17f7b4=!![]);});if(!_0x17f7b4)return _0x5e2e2f;}for(var _0x5aa5a3=0x0;_0x5aa5a3<_0x350b77['length'];_0x5aa5a3++){var _0x5e2e2f=_0x350b77[_0x5aa5a3],_0x9b79b4={'x1':_0x5e2e2f['x'],'y1':_0x5e2e2f['y']-_0x81319d[_0x5760d0(0x216)],'x2':_0x5e2e2f['x']+_0x81319d['width'],'y2':_0x5e2e2f['y']+0x5};if(_0x9b79b4['x1']>=0x0&&_0x9b79b4['x2']<=width&&_0x9b79b4['y1']>=0x0&&_0x9b79b4['y2']<=height)return _0x5e2e2f;}var _0x20b6e0={'x':Math['min'](Math['max'](0x0,_0x350b77[0x0]['x']),width-_0x81319d[_0x5760d0(0x26a)]),'y':Math['min'](Math[_0x5760d0(0x1f0)](_0x81319d['height'],_0x350b77[0x0]['y']),height)};return _0x20b6e0;}var originalUpdateChart=updateChart;updateChart=function(){originalUpdateChart(),setTimeout(function(){var _0x2ae303=_0x18df,_0x33b6df=svg['selectAll'](_0x2ae303(0x20e));_0x33b6df['each'](function(){var _0x3c1a90=_0x2ae303,_0x50d9cf=d3[_0x3c1a90(0x206)](this),_0x3b4567=_0x50d9cf[_0x3c1a90(0x1b2)](),_0x44e1fc=filteredData[_0x3c1a90(0x215)](function(_0x23bfd4){return _0x23bfd4[0x1]===_0x3b4567;});if(_0x44e1fc){var _0x204c5d=xScale(_0x44e1fc[header[_0x3c1a90(0x1a1)](xMetric)]),_0x10b9a2=yScale(_0x44e1fc[header[_0x3c1a90(0x1a1)](yMetric)]);positionLabelToAvoidOverlap(_0x50d9cf,_0x204c5d,_0x10b9a2);}});},0xa);},document[_0x5dd5d4(0x1ff)](_0x5dd5d4(0x254),function(){var _0x5a2487=_0x5dd5d4;const _0xa38162=document['getElementById'](_0x5a2487(0x259));_0xa38162[_0x5a2487(0x255)]=medianLinesVisible?_0x5a2487(0x266):_0x5a2487(0x1ab);});
    
    </script>
  <script>
    // Translation functionality
    function setLanguage(language) {
      localStorage.setItem('preferredLanguage', language);
      // Update URL with language parameter
      const url = new URL(window.location.href);
      if (language === 'en') {
        url.searchParams.delete('lang');
      } else {
        url.searchParams.set('lang', language);
      }
      window.history.pushState({}, '', url);
      applyLanguage(language);
    }
    
    function getPreferredLanguage() {
      // Check URL parameter first
      const urlParams = new URLSearchParams(window.location.search);
      const langParam = urlParams.get('lang');
      if (langParam) {
        return langParam;
      }
      return localStorage.getItem('preferredLanguage') || getBrowserLanguage() || 'en';
    }
    
    function getBrowserLanguage() {
      return navigator.language.slice(0, 2);
    }
    
    function applyLanguage(language) {
      fetch(`locales/${language}.json`)
        .then(response => response.json())
        .then(translations => {
          // Store translations globally for dynamic access
          window.currentTranslations = translations;
          
          // Update text content for elements with data-i18n attribute
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              value = value[key];
            }
            if (value) {
              element.textContent = value;
            }
          });
    

    
          // Update meta tags
          document.title = translations.meta.title;
          document.querySelector('meta[name="description"]').setAttribute('content', translations.meta.description);
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        });
    }
    
    // Initialize translations
    const preferredLanguage = getPreferredLanguage();
    applyLanguage(preferredLanguage);
    
    // Language dropdown functionality
    document.addEventListener('DOMContentLoaded', function() {
      const languageButton = document.getElementById('languageButton');
      const languageDropdown = document.getElementById('languageDropdown');
    
      // Toggle dropdown on button click
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    
      // Handle language option clicks
      document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          const lang = this.getAttribute('href').split('=')[1];
          setLanguage(lang);
          languageDropdown.classList.remove('show');
        });
      });
    
      // Close dropdown when clicking outside
      document.addEventListener('click', function(event) {
        if (!event.target.closest('.language-switcher-container')) {
          languageDropdown.classList.remove('show');
        }
      });
    });
    </script>
     <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>

